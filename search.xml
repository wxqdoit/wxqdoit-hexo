<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[2019å¹´ç»ˆæ€»ç»“]]></title>
    <url>%2F20200208%2F2019%2F</url>
    <content type="text"><![CDATA[æ¬å®¶2019-11 å¯¹ï¼Œæˆ‘åˆæ¬å®¶äº† å·¥ä½œ2019-06 å¯¹ æˆ‘åˆæ¢å·¥ä½œäº† åˆ·å‰§ã€Šæˆ‘å’Œåƒµå°¸æœ‰ä¸ªçº¦ä¼š1ã€‹ ã€Šæˆ‘å’Œåƒµå°¸æœ‰ä¸ªçº¦ä¼š3ã€‹ ã€Šéžè‡ªç„¶æ­»äº¡ã€‹ ã€Šå¸¦ç€çˆ¸çˆ¸åŽ»ç•™å­¦ã€‹ ã€ŠæƒŠè›°ã€‹ ç”µå½±ã€çºªå½•ç‰‡ã€Šå“ªå’ä¹‹é­”ç«¥é™ä¸–ã€‹ï¼ˆç”µå½±é™¢ï¼‰ ã€Šæµæµªåœ°çƒã€‹ ã€Šä¸­å›½æœºé•¿ã€‹ ã€Šé£žé©°äººç”Ÿã€‹ ã€Šæ”€ç™»è€…ã€‹ ã€Šé“¶æ²³è¡¥ä¹ ç­ã€‹ ã€Šç™½è›‡ï¼šç¼˜èµ·ã€‹ ã€Šè€å¸ˆÂ·å¥½ã€‹ ã€Šå¤§äººç‰©ã€‹ ã€Šäººç”Ÿæžœå®žã€‹ ã€Šäº†ä¸èµ·çš„ç›–èŒ¨æ¯”ã€‹ ã€Šæ˜Ÿé™…ç©¿è¶Šã€‹ ã€Šé—ªå…‰å°‘å¥³ã€‹ ã€Šç™¾é¸Ÿæœå‡¤ã€‹ ã€Šå¦ˆé˜æ˜¯åº§åŸŽã€‹ ã€Šç¬¬ä¸€æ»´è¡€1-3ã€‹ ã€Šæ¥šé—¨çš„ä¸–ç•Œã€‹ ã€Šé“å£«ä¸‹å±±ã€‹ ã€Šæˆ‘çš„å–œé©¬æ‹‰é›…ã€‹ ã€Šä¸€æ¡ç‹—çš„ä½¿å‘½ã€‹ ã€Šæˆ‘æ˜¯å±±å§†ã€‹ ã€Šæ‹çˆ±å›žæ—‹ã€‹ è¯»ä¹¦ã€Šæˆ‘æ˜¯çŒ«ã€‹ ã€Šäº†ä¸èµ·çš„ç›–èŒ¨æ¯”ã€‹ ã€Šç™½å¤œè¡Œã€‹ ã€Šæ—¶é—´ç®€å²ã€‹ è¿½ç•ªã€Šé¬¼ç­ä¹‹åˆƒã€‹ ã€Šé‡æ¥å§ï¼é­”çŽ‹å¤§äººã€‹ ã€Šè¿™ä¸ªå‹‡è€…æ˜Žæ˜Žè¶…å¼ºå´è¿‡åˆ†æ…Žé‡ã€‹ ã€Šæµæ±—å§ï¼å¥èº«å°‘å¥³ã€‹ ã€Šç½—å°é»‘æˆ˜è®°ã€‹ ã€Šæˆ‘ä»¬ä»æœªçŸ¥é“é‚£å¤©æ‰€çœ‹è§çš„èŠ±çš„åå­—ã€‹ ã€Šåšäººä¼ ã€‹ æ´»åŠ¨ã€æ—…è¡Œã€å‡ºå·®2019-02 è‡ªè´¡ 2019-04 è¥¿å®‰ 2019-05 è‰²è¾¾ 2019-05 è´µé˜³æ•°åšä¼š 2019-07 ä¸Šæµ·IPFSä¼šè®® 2019-12 æˆéƒ½BW]]></content>
      <categories>
        <category>è®°äº‹ç°¿</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æµ…æŽ¢NPM]]></title>
    <url>%2F20190226%2Fnpm%2F</url>
    <content type="text"><![CDATA[ä»Šæ™©ã¯ãŠæœˆã•ã‚“ var ap = new APlayer({ element: document.getElementById("aplayer-oBtooUeY"), narrow: false, autoplay: false, showlrc: false, music: { title: "ä»Šæ™©ã¯ãŠæœˆã•ã‚“", author: "ãƒãƒ³ãƒãƒ¼ãƒˆ", url: "https://wxqdoit-blog-1252754215.cos.ap-chengdu.myqcloud.com/2019/705a_b88c_b84e_ced8f9e08c9e6c9970ee894a66361a6a.mp3", pic: "https://wxqdoit-blog-1252754215.cos.ap-chengdu.myqcloud.com/2019/703687441788470.jpg", lrc: "" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); å…ˆæ”¾æ¾ä¸€å¿ƒæƒ…ï¼Œå¬ä¸€é¦–æœ‰è¶£çš„æ­Œï¼ åŒ…ç®¡ç†å™¨å¦‚æžœä½¿ç”¨è¿‡Gradleï¼Œä¸€å®šå¯¹ä¸‹é¢çš„é…ç½®å¾ˆå®¹æ˜“ç†è§£ï¼š1234567891011121314151617181920212223242526272829303132333435363738//ç”¨äºŽæž„å»ºé¡¹ç›®çš„æ’ä»¶apply plugin: &apos;java&apos;apply plugin: &apos;spring-boot&apos;apply plugin: &apos;idea&apos;apply plugin: &apos;war&apos;buildscript &#123; repositories &#123; mavenCentral() maven &#123; url &quot;https://repo.spring.io/plugins-release&quot; &#125; &#125; //æŒ‡å®šgradleæ’ä»¶çš„ç‰ˆæœ¬ dependencies &#123; classpath(&apos;io.spring.gradle:dependency-management-plugin:0.6.1.RELEASE&apos;) classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:1.3.2.RELEASE&quot;) &#125;&#125;//æž„å»ºè„šæœ¬ä¸­æ‰€ä¾èµ–åº“åœ¨jcenterä»“åº“ä¸‹è½½repositories &#123; jcenter()&#125;//æŒ‡å®šå½“å‰é¡¹ç›®çš„ä¾èµ–dependencies &#123; compile(&quot;org.springframework.boot:spring-boot-starter&quot;) compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;) compile(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;) compile(&apos;mysql:mysql-connector-java:5.1.38&apos;) compile(&apos;commons-fileupload:commons-fileupload:1.3.1&apos;) compile(&apos;com.alibaba:fastjson:1.2.7&apos;) compile(&quot;org.springframework.boot:spring-boot-starter-velocity&quot;)&#125;tasks.withType(JavaCompile) &#123; sourceCompatibility = &apos;1.8&apos; targetCompatibility = &apos;1.8&apos;&#125; å¦‚æžœä½¿ç”¨è¿‡Mavenï¼Œä¸€å®šå¯¹ä¸‹é¢çš„é…ç½®å¾ˆå®¹æ˜“ç†è§£ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;FruitShop&lt;/groupId&gt; &lt;artifactId&gt;FruitShop&lt;/artifactId&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;name&gt;FruitShop Maven Webapp&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;properties&gt; &lt;shiro.version&gt;1.2.5&lt;/shiro.version&gt; &lt;spring.version&gt;4.2.5.RELEASE&lt;/spring.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- Logging API + implementation: --&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;1.7.21&lt;/version&gt; &lt;/dependency&gt; &lt;!--mybatisçš„åŒ…--&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.0&lt;/version&gt; &lt;/dependency&gt; &lt;!--æ•°æ®åº“è¿žæŽ¥çš„åŒ…--&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.38&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;finalName&gt;FruitShop&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;1.6&lt;/source&gt; &lt;target&gt;1.6&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;!--ideaèƒ½å¤Ÿç¼–è¯‘éžresourcesä¸­çš„xmlæ–‡ä»¶--&gt; &lt;resources&gt; &lt;resource&gt; &lt;directory&gt;src/main/java&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;/build&gt;&lt;/project&gt; Gradleå’ŒMavenéƒ½æ˜¯Java Webé¡¹ç›®çš„æž„å»ºå·¥å…·ï¼Œå½“ç„¶è¿˜æœ‰Antï¼ŒGradleè¿˜ä½œä¸ºAndroidé¡¹ç›®çš„å®˜æ–¹æž„å»ºå·¥å…·ã€‚ æ‰€ä»¥å¦‚æžœç†Ÿæ‚‰Gradleå’ŒMavenï¼Œé‚£ä¹ˆå¯¹NPMå°±éžå¸¸å®¹æ˜“ç†è§£ã€‚ NPMå‰ä¸–ä»Šç”ŸNPMï¼ˆNode Package Managerï¼‰ ä½œä¸ºNodeJsçš„åŒ…ç®¡ç†å™¨ï¼Œä¼´éšç€Nodeçš„è¯žç”Ÿè€Œè¯žç”Ÿï¼Œå†…ç½®äºŽNodeä¸­ï¼Œå½“å®‰è£…å¥½Nodeä¹‹åŽï¼ŒNPMä¹Ÿå°±å¯¹åº”å®‰è£…å¥½äº†ã€‚ä½†æ˜¯å…·ä½“åœ¨å“ªä¸ªç‰ˆæœ¬ä¸­å†…ç½®çš„æˆ‘æ²¡æœ‰æ‰¾åˆ°ï¼ˆè¯·å¤§ä½¬å‘Šè¯‰æˆ‘ï¼‰ã€‚ä¸‹é¢æ˜¯NPMçš„æœ€åˆç‰ˆæœ¬ï¼š Yarnä¸ŽCNPM Yarnå¯ä»¥ç†è§£ä¸ºNPMçš„è¿œæˆ¿è¡¨äº²ï¼ŒåŒæ ·æ˜¯åŒ…ç®¡ç†å™¨ï¼ˆä½†æˆ‘å°±æ˜¯ä¸ç”¨ä½ ï¼‰ã€‚ CNPMæ˜¯æ·˜å®å¯¹NPMåšçš„å›½å†…é•œåƒï¼Œä¸»è¦ä¸ºäº†è§£å†³å›½å†…å¼€å‘è€…ä½¿ç”¨NPMä¸‹è½½ä¾èµ–ä¸­è¶…æ—¶ç­‰é—®é¢˜ã€‚ä½†æ˜¯ä½¿ç”¨CNPMä¸‹è½½å®‰è£…å„ç§ä¾èµ–åŒ…æ—¶æœ‰å¯èƒ½ä¼šå‡ºçŽ°èŽ«åå…¶å¦™çš„é”™è¯¯ã€‚ NPMé¡¹ç›® åˆå§‹åŒ–é¡¹ç›®ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼šnpm initï¼Œç„¶åŽä¸€é¡¿å›žè½¦ 123456789101112131415161718192021222324252627282930313233343536373839D:\dev&gt;cd npm-testD:\dev\npm-test&gt;npm initThis utility will walk you through creating a package.json file.It only covers the most common items, and tries to guess sensible defaults.See `npm help json` for definitive documentation on these fieldsand exactly what they do.Use `npm install &lt;pkg&gt;` afterwards to install a package andsave it as a dependency in the package.json file.Press ^C at any time to quit.package name: (npm-test)version: (1.0.0)description:entry point: (index.js)test command:git repository:keywords:author:license: (ISC)About to write to D:\dev\npm-test\package.json:&#123; &quot;name&quot;: &quot;npm-test&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;index.js&quot;, &quot;scripts&quot;: &#123; &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot; &#125;, &quot;author&quot;: &quot;&quot;, &quot;license&quot;: &quot;ISC&quot;&#125;Is this ok? (yes)D:\dev\npm-test&gt; æ­¤æ—¶å·²ç»åˆå§‹åŒ–å¥½äº†é¡¹ç›®ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆäº†package.jsonæ–‡ä»¶ 1234567891011&#123; &quot;name&quot;: &quot;npm-test&quot;, //é¡¹ç›®å &quot;version&quot;: &quot;1.0.0&quot;, //ç‰ˆæœ¬å· &quot;description&quot;: &quot;&quot;, //é¡¹ç›®æè¿° &quot;main&quot;: &quot;index.js&quot;, //å…¥å£æ–‡ä»¶ &quot;scripts&quot;: &#123; //å®šä¹‰è„šæœ¬å‘½ä»¤ &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot; &#125;, &quot;author&quot;: &quot;&quot;, //ä½œè€… &quot;license&quot;: &quot;ISC&quot; //å¼€æ”¾æºä»£ç è®¸å¯è¯ ISC&#125; å…¶ä¸­scriptsçš„é…ç½®é‡Œé¢æœ‰ä¸€ä¸ªtestå­—æ®µï¼Œå½“æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œè¾“å…¥npm run testä¼šè¾“å‡ºecho &quot;Error: no test specified&quot; &amp;&amp; exit 1 12345678910111213141516171819D:\dev\npm-test&gt;npm run test&gt; npm-test@1.0.0 test D:\dev\npm-test&gt; echo &quot;Error: no test specified&quot; &amp;&amp; exit 1&quot;Error: no test specified&quot;npm ERR! code ELIFECYCLEnpm ERR! errno 1npm ERR! npm-test@1.0.0 test: `echo &quot;Error: no test specified&quot; &amp;&amp; exit 1`npm ERR! Exit status 1npm ERR!npm ERR! Failed at the npm-test@1.0.0 test script.npm ERR! This is probably not a problem with npm. There is likely additional logging output above.npm WARN Local package.json exists, but node_modules missing, did you mean to install?npm ERR! A complete log of this run can be found in:npm ERR! C:\Users\wxqdoit\AppData\Roaming\npm-cache\_logs\2019-02-26T06_46_24_718Z-debug.logD:\dev\npm-test&gt; å°†scriptsä¸‹æ”¹æˆ:&quot;build&quot;: &quot;node index.js&quot;ï¼Œå†åœ¨é¡¹ç›®ç›®å½•ä¸‹æ–°å»ºindex.jsï¼Œå¹¶ç¼–å†™å¦‚ä¸‹ä»£ç  12345678function closure()&#123; var a = 1; return function()&#123; console.log(a) &#125;&#125;//å†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡,å¹¶è¿”å›žè‡ªèº«ï¼Œãªã«ã€å¤§åé¼Žé¼Žçš„é—­åŒ…ï¼Ÿclosure()() åœ¨å‘½ä»¤è¡Œè¾“å…¥npm run buildï¼Œè®°ä½æ˜¯npm run +è‡ªå®šä¹‰å‘½ä»¤ 12345678D:\dev\npm-test&gt;npm run build&gt; npm-test@1.0.0 build D:\dev\npm-test&gt; node index.js1D:\dev\npm-test&gt; å§¿åŠ¿æ‘†å¥½ï¼Œå‡†å¤‡è¿›å…¥æ­£é¢˜äº† å®‰è£…ä¾èµ– å®‰è£…expressï¼šnpm install express å¾ˆå¿«å°±å®‰è£…å¥½äº†ï¼Œæ‰“å¼€package.jsonæ–‡ä»¶å‘çŽ°é‡Œé¢å¤šäº†å¦‚ä¸‹ä¾èµ–,åŒæ—¶ä¹Ÿè‡ªåŠ¨ç”Ÿæˆäº†node_modulesæ–‡ä»¶å¤¹ã€‚å¾ˆå¤šèµ„æ–™è¯´npm install xxxåªæ˜¯å®‰è£…åˆ°node_modulesç›®å½•ä¸­ä¸ä¼šæ·»åŠ package.jsonåˆ°ä¸­ï¼Œè€Œ npm install xxx --saveä¼šæ·»åŠ åˆ°package.jsonä¸­ï¼Œä½†æ˜¯æˆ‘æ¯æ¬¡æ‰§è¡Œnpm install xxxéƒ½ä¿®æ”¹äº†package.json 123&quot;dependencies&quot;: &#123; &quot;express&quot;: &quot;^4.16.4&quot;&#125; ä¸‹é¢æˆ‘ä»¬æ‰§è¡Œnpm install express --save-devï¼Œå®‰è£…å®ŒæˆåŽæŸ¥çœ‹package.jsonï¼Œå‘çŽ°å°†expressè½¬ç§»åˆ°äº†devDependenciesé‡Œé¢ 1234&quot;dependencies&quot;: &#123;&#125;,&quot;devDependencies&quot;: &#123; &quot;express&quot;: &quot;^4.16.4&quot;&#125; æ‰€ä»¥æ€»ç»“å¦‚ä¸‹ npm install xxx åœ¨æˆ‘çš„çŽ¯å¢ƒä¸‹ç­‰åŒäºŽnpm install xxx --saveä¼šå®‰è£…åˆ°dependenciesé‡Œé¢ npm install xxx --save é¡¹ç›®å®žé™…ä¸Šçº¿åŽéœ€è¦ä¾èµ–çš„åŒ…è¯·ä½¿ç”¨è¿™æ¡å‘½ä»¤å®‰è£… npm install xxx --save-dev é¡¹ç›®å®žé™…ä¸Šçº¿åŽã€ä¸ã€‘éœ€è¦ä¾èµ–çš„åŒ…è¯·ä½¿ç”¨è¿™æ¡å‘½ä»¤å®‰è£… dependenciesä»£è¡¨ç”ŸæˆçŽ¯å¢ƒ devDependenciesä»£è¡¨å¼€å‘çŽ¯å¢ƒ çŽ°åœ¨å°†expressè½¬åˆ°dependenciesé‡Œé¢ï¼šnpm install express --save è¯•äº†å‡ æ¬¡ä¹‹åŽå‘çŽ°npm install express --saveæ ¹æœ¬æ²¡æœ‰èµ·ä½œç”¨ï¼Œæ‰€ä»¥æˆ‘npm uninstall expresså†npm install express --save NPMæ¨¡å—å®‰è£…æœºåˆ¶ å‘å‡ºnpm installå‘½ä»¤ æ£€æµ‹package.jsonä¾èµ– æŸ¥è¯¢node_modulesç›®å½•ä¹‹ä¸­æ˜¯å¦å·²ç»å­˜åœ¨æŒ‡å®šæ¨¡å— è‹¥å­˜åœ¨ï¼Œä¸å†é‡æ–°å®‰è£… è‹¥ä¸å­˜åœ¨ npm å‘ registry æŸ¥è¯¢æ¨¡å—åŽ‹ç¼©åŒ…çš„ç½‘å€ ä¸‹è½½åŽ‹ç¼©åŒ…ï¼Œå­˜æ”¾åœ¨æ ¹ç›®å½•ä¸‹çš„.npmç›®å½•é‡Œ è§£åŽ‹åŽ‹ç¼©åŒ…åˆ°å½“å‰é¡¹ç›®çš„node_modulesç›®å½• NPMæœ‰å“ªäº›å‘½ä»¤å‘¢ï¼Œå‘½ä»¤è¡Œè¾“å…¥npmï¼Œç®€å†™å‘½ä»¤åœ¨Nodeå®‰è£…ç›®å½•\node_modules\npm\lib\config\cmd-list.jså¯ä»¥çœ‹åˆ° 1234567891011121314D:\dev\npm-test&gt;npmUsage: npm &lt;command&gt;where &lt;command&gt; is one of: access, adduser, bin, bugs, c, cache, completion, config, ddp, dedupe, deprecate, dist-tag, docs, doctor, edit, explore, get, help, help-search, i, init, install, install-test, it, link, list, ln, login, logout, ls, outdated, owner, pack, ping, prefix, profile, prune, publish, rb, rebuild, repo, restart, root, run, run-script, s, se, search, set, shrinkwrap, star, stars, start, stop, t, team, test, token, tst, un, uninstall, unpublish, unstar, up, update, v, version, view, whoami æ‰“å¼€ä½ çš„Nodeå®‰è£…ç›®å½•ï¼Œä»”ç»†åˆ†æžå‘çŽ°NPMå…¶å®žå°±æ˜¯ä¸€ä¸ªNodeåº”ç”¨ã€‚é‚£æˆ‘ä»¬çš„npm installç©¶ç«Ÿå¹²äº†ä»€ä¹ˆå‘¢ï¼Œå½“ä½ å®‰è£…å®ŒNodeï¼Œå°±åœ¨ç³»ç»Ÿä¸­æ³¨å†Œäº†npmå‘½ä»¤ã€‚æ‰“å¼€Nodeå®‰è£…ç›®å½•\node_modules\npm\bin,æœ‰npm.cmdæ–‡ä»¶ä¸Žnpm-cli.jsæ–‡ä»¶npm.cmdå…¥å£ 123456789101112131415161718192021222324252627:: Created by npm, please don&apos;t edit manually.//å…³é—­å›žæ˜¾@ECHO OFF//æœ¬åœ°åŒ–SETLOCAL//%~dp0ä»£è¡¨å½“å‰ä½ç½®SET &quot;NODE_EXE=%~dp0\node.exe&quot;IF NOT EXIST &quot;%NODE_EXE%&quot; ( SET &quot;NODE_EXE=node&quot;)//&apos;CALL &quot;%NODE_EXE%&quot; &quot;%NPM_CLI_JS%&quot; prefix -g&apos;è¿™ä¸€è¡Œåœ¨npm.cmdèµ·çš„ä½œç”¨æ˜¯//å¦‚æžœèƒ½è¿è¡Œè¿™ä¸¤ä¸ªå‘½ä»¤å¹¶ä¸”å¾—åˆ°ç»“æžœçš„è¯å°†NPM_PREFIX_NPM_CLI_JSçš„å€¼è®¾ç½®//ä¸º&quot;\node_modules\npm\bin\npm-cli.js&quot;SET &quot;NPM_CLI_JS=%~dp0\node_modules\npm\bin\npm-cli.js&quot;FOR /F &quot;delims=&quot; %%F IN (&apos;CALL &quot;%NODE_EXE%&quot; &quot;%NPM_CLI_JS%&quot; prefix -g&apos;) DO ( SET &quot;NPM_PREFIX_NPM_CLI_JS=%%F\node_modules\npm\bin\npm-cli.js&quot;)IF EXIST &quot;%NPM_PREFIX_NPM_CLI_JS%&quot; ( SET &quot;NPM_CLI_JS=%NPM_PREFIX_NPM_CLI_JS%&quot;)&quot;%NODE_EXE%&quot; &quot;%NPM_CLI_JS%&quot; %* 12345678910111213//çŽ°åœ¨å®žé™…å¯åŠ¨npmå¹¶è¿è¡Œå‘½ä»¤ //è¿™æ˜¯å¦‚ä½•ä»¥ç¼–ç¨‹æ–¹å¼ä½¿ç”¨npmï¼šconf._exit = truenpm.load(conf, function (er) &#123; if (er) return errorHandler(er) npm.commands[npm.command](npm.argv, function (err) &#123; // https://www.youtube.com/watch?v=7nfPu8qTiQU if (!err &amp;&amp; npm.config.get('ham-it-up') &amp;&amp; !npm.config.get('json') &amp;&amp; !npm.config.get('parseable') &amp;&amp; npm.command !== 'completion') &#123; output('\n ðŸŽµ I Have the Honour to Be Your Obedient Servant,ðŸŽµ ~ npm ðŸ“œðŸ–‹\n') &#125; errorHandler.apply(this, arguments) &#125;)&#125;) æ‰“å¼€Nodeå®‰è£…ç›®å½•\node_modules\npm\libï¼Œæ‰¾åˆ°install.jsæ–‡ä»¶ï¼ˆç»†å¿ƒçš„ä½ å¯èƒ½å·²ç»å‘çŽ°äº†åŸºæœ¬ä¸Šæ¯ä¸€ä¸ªjsæ–‡ä»¶å¯¹åº”äº†ä¸Šè¿°çš„ä¸€ä¸ªå‘½ä»¤ï¼‰ï¼Œç”¨ç¼–è¾‘å™¨æ‰“å¼€install.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101'use strict'// npm install &lt;pkg&gt; &lt;pkg&gt; &lt;pkg&gt;//// See doc/cli/npm-install.md for more description//// Managing contexts...// there's a lot of state associated with an "install" operation, including// packages that are already installed, parent packages, current shrinkwrap, and// so on. We maintain this state in a "context" object that gets passed around.// every time we dive into a deeper node_modules folder, the "family" list that// gets passed along uses the previous "family" list as its __proto__. Any// "resolved precise dependency" things that aren't already on this object get// added, and then that's passed to the next generation of installation.module.exports = installmodule.exports.Installer = Installervar usage = require('./utils/usage')install.usage = usage( 'install', '\nnpm install (with no args, in package dir)' + '\nnpm install [&lt;@scope&gt;/]&lt;pkg&gt;' + '\nnpm install [&lt;@scope&gt;/]&lt;pkg&gt;@&lt;tag&gt;' + '\nnpm install [&lt;@scope&gt;/]&lt;pkg&gt;@&lt;version&gt;' + '\nnpm install [&lt;@scope&gt;/]&lt;pkg&gt;@&lt;version range&gt;' + '\nnpm install &lt;folder&gt;' + '\nnpm install &lt;tarball file&gt;' + '\nnpm install &lt;tarball url&gt;' + '\nnpm install &lt;git:// url&gt;' + '\nnpm install &lt;github username&gt;/&lt;github project&gt;', '[--save-prod|--save-dev|--save-optional] [--save-exact] [--no-save]')//175è¡Œå®šä¹‰installæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è¿›å…¥æ ¸å¿ƒçš„installé€»è¾‘function install (where, args, cb) &#123; if (!cb) &#123; cb = args args = where where = null &#125; var globalTop = path.resolve(npm.globalDir, '..') if (!where) &#123; where = npm.config.get('global') ? globalTop : npm.prefix &#125; validate('SAF', [where, args, cb]) // the /path/to/node_modules/.. var dryrun = !!npm.config.get('dry-run') if (npm.config.get('dev')) &#123; log.warn('install', 'Usage of the `--dev` option is deprecated. Use `--only=dev` instead.') &#125; if (where === globalTop &amp;&amp; !args.length) &#123; args = ['.'] &#125; args = args.filter(function (a) &#123; return path.resolve(a) !== npm.prefix &#125;) new Installer(where, dryrun, args).run(cb)&#125;//205è¡Œå®šä¹‰äº†Installerç±»function Installer (where, dryrun, args, opts) &#123;&#125;//358è¡Œ è·Ÿè¸ªå™¨åˆ›å»ºInstaller.prototype.newTracker = function (tracker, name, size) &#123; validate('OS', [tracker, name]) if (size) validate('N', [size]) this.progress[name] = tracker.newGroup(name, size) return function (next) &#123; process.emit('time', 'stage:' + name) next() &#125;&#125;Installer.prototype.finishTracker = function (name, cb) &#123; validate('SF', arguments) process.emit('timeEnd', 'stage:' + name) cb()&#125;Installer.prototype.loadCurrentTree = function (cb) &#123; validate('F', arguments) log.silly('install', 'loadCurrentTree') var todo = [] if (this.global) &#123; todo.push([this, this.readGlobalPackageData]) &#125; else &#123; todo.push([this, this.readLocalPackageData]) &#125; todo.push([this, this.normalizeCurrentTree]) chain(todo, cb)&#125;//387è¡Œ åˆ›å»ºnodevar createNode = require('./install/node.js').create ä¸‹é¢æ˜¯å®˜æ–¹ä»‹ç» This command installs a package, and any packages that it depends on. If thepackage has a package-lock or shrinkwrap file, the installation of dependencieswill be driven by that, with an npm-shrinkwrap.json taking precedence if bothfiles exist. See package-lock.json(5) and npm-shrinkwrap(1). A package is: a) a folder containing a program described by a package.json(5) file b) a gzipped tarball containing (a) c) a url that resolves to (b) d) a &lt;name&gt;@&lt;version&gt; that is published on the registry (see npm-registry(7)) with (c) e) a &lt;name&gt;@&lt;tag&gt; (see npm-dist-tag(1)) that points to (d) f) a &lt;name&gt; that has a â€œlatestâ€ tag satisfying (e) g) a &lt;git remote url&gt; that resolves to (a) æ€»ç»“ä¸‹æ¥å°±æ˜¯ï¼š æ‰§è¡Œå·¥ç¨‹è‡ªèº« ç¡®å®šé¦–å±‚ä¾èµ–æ¨¡å— æ ¹æ®æ¨¡å—ä¿¡æ¯é€’å½’ç½‘ç»œèŽ·å–æ¨¡å— æ¨¡å—æ‰å¹³åŒ–ï¼Œè§£å†³é‡å¤å†—ä½™é—®é¢˜ å®‰è£…æ¨¡å—ï¼Œæ›´æ–°node_modules è‡ªèº«ç”Ÿå‘½å‘¨æœŸï¼Œç”Ÿæˆæˆ–æ›´æ–°package.json å‚è€ƒæ–‡ç« Mavenå’ŒGradleå¯¹æ¯” ç¬¬20é¢˜ï¼šä»‹ç»ä¸‹ npm æ¨¡å—å®‰è£…æœºåˆ¶ Node.js npm è¯¦è§£;]]></content>
      <categories>
        <category>æŠ€æœ¯æ ˆ</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[åšå®¢è¿ç§»]]></title>
    <url>%2F20190216%2Fmigrate%2F</url>
    <content type="text"><![CDATA[è¿™ä¸¤å¤©ä¸€ç›´åœ¨å¼„åšå®¢è¿ç§»ï¼Œæ€»ç®—æ˜¯è‚å¥½äº† æœåŠ¡è¿ç§»ä¹‹å‰çš„åšå®¢æ˜¯æˆ‘è‡ªå·±ç”¨Nodeæ­å»ºçš„ï¼Œè™½ç„¶è¯´åŠŸèƒ½éƒ½æœ‰ï¼Œä½†æ˜¯ä¹Ÿåªèƒ½çŽ©çŽ©ã€‚ çŽ°åœ¨æ¢åˆ°äº†Hexo(è™½ç„¶hexoä¹Ÿæ˜¯nodeæ­å»ºçš„ æœåŠ¡å™¨æ‰˜ç®¡ç”±æˆ‘1Mçš„å°æ°´ç®¡è¿ç§»åˆ°githubä¸Šäº†ï¼Œå‡†å¤‡æŠŠè‡ªå·±çš„æœåŠ¡å™¨ç”¨æ¥åšç‚¹åˆ«çš„ã€‚ åŸŸåè¿ç§»ä»Ž https://www.wxqdoit.com æ”¹æˆ https://www.wxqdoit.cn å°±æ˜¯ä»Ž .com å˜ä¸º .cn å•¦ï¼Œè¯è¯´åˆå¾—ç»­è´¹äº†ï¼ èµ„æºè¿ç§»ä¹‹å‰çš„å›¾ç‰‡ä»€ä¹ˆçš„éƒ½å­˜åœ¨æˆ‘è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼ŒçŽ°åœ¨å¤§éƒ¨åˆ†éƒ½ä½¿ç”¨äº†CDNã€‚]]></content>
      <categories>
        <category>è®°äº‹ç°¿</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[2019æ˜¥èŠ‚ä¹‹æ—…]]></title>
    <url>%2F20190209%2F2019SpringFestival%2F</url>
    <content type="text"><![CDATA[å›žå®¶äº†2æœˆ2å·ä»Žæˆéƒ½èµ¶å›žå®œå®¾ï¼Œä¸‹åˆå’Œé«˜ä¸­å‡ ä¸ªåŒå­¦åƒäº†ä¸€é¡¿é¥­ã€‚ æœ‰èµ–å­ï¼Œè›‹è›‹ï¼Œåˆ˜å“¥ï¼Œè‡´å‡ã€‚åƒå®Œé¥­å›žåŽ»ä¹¡ä¸‹å°±æ™šä¸Šä¹ç‚¹è¿‡äº†ã€‚ åœ¨å®¶è¿™å‡ å¤©åˆ°å®¶åŽçš„ä¸¤ä¸‰å¤©ä¹Ÿæ²¡å¹²å•¥å°±è¿‡åŽ»äº†ï¼ŒåŽ»äº†è¶Ÿå¤–å…¬å®¶ï¼Œå¤§å¹´ä¸‰åæ™šä¸Šæ”¾äº†ä¸€ä¸²éž­ç‚®ï¼Œç„¶åŽå°±æŽ¥ç€åˆ·å‰§äº†ã€‚ åˆä¸€åœ¨å®¶ï¼Œæ—©æ™šåƒäº†æŠ„æ‰‹ï¼Œä¸­åˆåƒçš„æ±¤åœ†ã€‚ åˆäºŒåŽ»äº†äº”å­ƒå®¶ã€‚ åˆä¸‰ä¸€äº›äº²æˆšæ¥æˆ‘å®¶ï¼Œæˆ‘å¿™äº†ä¸€å¤©ã€‚ (function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"theme":"#FADFA3","video":{"url":"https://wxqdoit-blog-1252754215.cos.ap-chengdu.myqcloud.com/75691872-1-6.mp4.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})() è‡ªè´¡è¿™ä¸€å¤©å‰ä¸€ä¸¤å¤©æˆ‘ä¹°äº†åˆå››ä¹Ÿå°±æ˜¯8å·åˆ°è‡ªè´¡çš„æ±½è½¦ç¥¨ï¼Œæˆ‘ç»™å®¶é‡Œäººè¯´å›žæˆéƒ½ã€‚å¹´å‰åŒå­¦å°±å«æˆ‘åŽ»è‡ªè´¡è€ï¼Œç„¶åŽæˆ‘è¯´æœ‰æ—¶é—´çš„è¯ï¼Œå¦‚æžœä½ ä¹Ÿä¸å¿™æˆ‘å°±æ¥çŽ©ä¸€å¤©ï¼Œæ‰€ä»¥å°±åŽ»äº†ï¼Œå…¶å®žè¿˜æ˜¯å¾ˆæœŸå¾…çš„ã€‚ä¸Šæ¬¡å’Œå¤§å®¶ä¸€èµ·èšè¿˜æ˜¯åœ¨18å¹´4æœˆè¿˜æ˜¯å¤šä¹…æ¥ç€ï¼Œæˆ‘éƒ½å¿˜äº†ã€‚ æ‰€ä»¥8å·æˆ‘è€æ—©å°±èµ·åºŠæ”¶æ‹¾å‡ºå‘ï¼Œå…ˆæ˜¯åŽ»é•‡ä¸Šä¹°äº†ä¸€äº›ç‰¹äº§ï¼Œè™½ç„¶å¾ˆlowï¼Œç„¶åŽæŒ¤å…¬äº¤åˆ°äº†å¸‚é‡Œæ±½è½¦ç«™ï¼ŒçœŸçš„æŠŠæˆ‘ç´¯ç€äº†ã€‚ å¤§æ¦‚åäº†ä¸¤ä¸ªå°æ—¶çš„è½¦å…ˆåˆ°äº†è‡ªè´¡ï¼Œç„¶åŽè¿‡äº†å‡ åˆ†é’Ÿæœ‹å‹æ¥æŽ¥çš„æˆ‘ã€‚ä¹‹åŽæˆ‘æŠŠä¸œè¥¿æ”¾å®¾é¦†ï¼Œå¸¦æˆ‘åŽ»äº†ä¸€å®¶é¥­é¦†ç‚¹äº†ä¸¤ä¸ªèœï¼ŒæŽ¥ç€æˆ‘å°±ä¸€ä¸ªäººåœ¨é‚£åƒé¥­ã€‚ åƒäº†å¥½ä¹…å‘†å‘†æ‰“è½¦è¿‡æ¥äº†ã€‚ç„¶åŽåŽ»äº†å’–å•¡é¦†ï¼Œå°¬åäº†ä¸€ä¸ªå¤šå°æ—¶ã€‚ æ²¡å¤šä¹…å…°å§ä¹Ÿåˆ°äº†ï¼Œç„¶åŽæˆ‘ä»¬å°±åœ¨å…¬å›­é‡Œé¢çžŽé€›å¹ç‰›ã€‚ æ™šé¥­åƒçš„å¾ˆå¥½ï¼Œç‚¹äº†å¾ˆå¤šå¹²é”…ï¼Œå…”å­ä»€ä¹ˆçš„ï¼Œå‘³é“è¿˜æ˜¯ä¸é”™ã€‚åƒå®Œé¥­ä¹‹åŽå…ˆæ˜¯åŽ»äº†ç†å·¥å¤§å­¦ï¼Œçˆ¬äº†ä¸€æ®µå°å±±ï¼Œç„¶åŽå’Œæ³¢æ³¢å¼€äº†è§†é¢‘ã€‚å¤§å®¶éƒ½å¾ˆå¼€å¿ƒ ç„¶åŽæ‰“è½¦åŽ»äº†ç½‘çº¢æ¡¥ï¼Œäººå·¨å¤šã€‚ èµ°åˆ°ç¬¬äºŒä¸ªä¸ŠåŽ»ä¹‹åŽå°±åå…¬äº¤è½¦å›žåŽ»äº† Say, goodbyeã€‚ å›žåˆ°ä½å¤„æƒ³äº†å¾ˆå¤šï¼Œä¸çŸ¥é“è‡ªå·±æ˜¯ä¸ªä»€ä¹ˆçŽ©æ„å„¿ï¼Œå¾ˆç´¯ï¼Œæ²¡æœ‰æ–¹å‘ï¼Œä»Šå¹´åˆå°†ä¼šæ€Žæ ·æˆ‘å®žåœ¨æ˜¯éš¾ä»¥çŒœæµ‹ã€‚å¸Œæœ›è‡ªå·±èƒ½æ´»çš„å¼€å¿ƒä¸€ç‚¹å§ï¼Œå¸Œæœ›æœ‰äº›æ€»è¿˜æ˜¯èƒ½å®žçŽ°çš„å§ã€‚ æ„Ÿè°¢è¿‡åŽ»è¿™ä¸€å¹´çš„æ¯ä¸€å¼ ç¬‘è„¸ã€‚]]></content>
      <categories>
        <category>è®°äº‹ç°¿</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[2018å¹´ç»ˆæ€»ç»“]]></title>
    <url>%2F20190201%2F2018%2F</url>
    <content type="text"><![CDATA[æ¯•ä¸š6æœˆä»½æ¯•ä¸šäº† è®ºæ–‡ä¿®æ”¹â€¦ è®ºæ–‡ç­”è¾©â€¦ é¢†å–å­¦ä½è¯â€¦ æ¬å®¶5æœˆåˆæ¬å‡ºäº†ä¸ŽåŒå­¦çš„åˆç§Ÿæˆ¿ï¼Œä¸€ä¸ªäººåœ¨è‡ªå¦‚ç§Ÿäº†ä¸ªå•é—´ 7æœˆåº•ä»Žè‡ªå¦‚æ¬å‡ºï¼Œåˆå’Œå¦å¤–ä¸¤åŒå­¦ä¸€èµ·åˆç§Ÿ å·¥ä½œ3æœˆåˆè¿˜äº†å·¥ä½œ ä»Žå‰ç«¯åˆ°å°æ¸¸æˆ åˆ·å‰§ã€Šé€ƒé¿å¯è€»ä½†å¾ˆæœ‰ç”¨ã€‹ ã€Šå°†å¤œã€‹ ç”µå½±ã€Šçˆ±æƒ…å…¬å¯“ã€‹ ã€Šå¤å¢“ä¸½å½±ï¼šæºèµ·ä¹‹æˆ˜ã€‹ è¯»ä¹¦ã€Šå…‹è‹é²ç¥žè¯ã€‹ ã€Šæ—¶é—´ç®€å²ã€‹ ã€Šå®‰å¨œÂ·å¡åˆ—å°¼å¨œã€‹ï¼ˆè¿™æœ¬ä¹¦æˆ‘æ•´æ•´çœ‹äº†ä¸€å¹´ï¼‰ ã€Šä¸‡åŽ†åäº”å¹´ã€‹ ã€Šè¯—ç»ã€‹ï¼ˆè¯»äº†ä¸€éƒ¨åˆ†ï¼‰ ã€Šå°çŽ‹å­ã€‹ ã€Šå²è’‚å¤«Â·ä¹”å¸ƒæ–¯ä¼ ã€‹ ã€Šæ·˜å®æŠ€æœ¯è¿™åå¹´ã€‹ ã€Šè…¾è®¯ä¼ ã€‹ ã€Šæ™®äº¬ä¼ ã€‹ è¿½ç•ªã€Šç«å½±å¿è€…Â·åšäººä¼ ã€‹ ã€Šå«å®«å®¶ä»Šå¤©çš„é¥­ã€‹ ã€Šåƒç»ªçš„é€šå­¦è·¯ã€‹ ã€Šå·¥ä½œç»†èƒžã€‹ ã€ŠåŽè¡—å¥³å­©ã€‹ ã€Šé’æ˜¥çŒªå¤´å°‘å¹´ä¸ä¼šæ¢¦åˆ°å…”å¥³éƒŽå­¦å§ã€‹ ã€Šå…³äºŽæˆ‘è½¬ç”Ÿå˜æˆå²èŽ±å§†è¿™æ¡£äº‹ã€‹ ã€Šä¸€äººä¹‹ä¸‹ã€‹ æ´»åŠ¨å…«æœˆï¼Œå¼€æºä¸­å›½åŽŸåˆ›ä¼š&amp;æ•°åšä¼š äº”æœˆï¼Œæˆéƒ½æ¬¢ä¹è°· ä¸‰æœˆï¼Œæ¡ƒèŠ±æ•…é‡Œ ä¸€æœˆï¼Œå…´éš†æ¹–]]></content>
      <categories>
        <category>è®°äº‹ç°¿</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å‘Hybrid Appçš„æŠ€æœ¯é€‰åž‹]]></title>
    <url>%2F20181224%2FHybridApp%2F</url>
    <content type="text"><![CDATA[ä¸€ã€å‰è¨€å¦‚æžœæˆ‘ä»¬æŠŠHybrid Appç†è§£ä¸ºè¿è¡Œåœ¨androidæˆ–è€…iosä»¥åŠå…¶ä»–ç§»åŠ¨ç»ˆç«¯è®¾å¤‡ä¸Šçš„åº”ç”¨ï¼Œä¹Ÿå¯ä»¥å«åšH5 APPï¼Œè¿™ç§å¼€å‘åº”ç”¨çš„æ¨¡å¼ç»“åˆwebå¼€å‘æŠ€æœ¯ä¸ŽNativeå¼€å‘çš„éƒ¨åˆ†æŠ€æœ¯ï¼Œé€šå¸¸ä¹Ÿè¢«ç§°ä¸ºæ··åˆå¼€å‘æ¨¡å¼ã€‚ äºŒã€ç§»åŠ¨åº”ç”¨å¼€å‘çš„ä¸‰ç§æ–¹å¼ Native Appï¼šåŽŸç”Ÿåº”ç”¨ï¼Œåœ¨androidç«¯é€šå¸¸ä½¿ç”¨Javaæˆ–Kotlinå¼€å‘ï¼Œiosç«¯ä½¿ç”¨OCæˆ–è€…Swiftå¼€å‘ Hybrid Appï¼šæ··åˆåº”ç”¨ï¼Œç»“åˆWebä¸ŽNativeæŠ€æœ¯å¼€å‘ Web Appï¼šwebåº”ç”¨ï¼Œç½‘é¡µä¸‰å‰‘å®¢html+css+js Native Appå¼€å‘ä¾æ—§æ˜¯ç§»åŠ¨åº”ç”¨çš„ä¸»å¯¼ï¼Œä½†å¦‚ä»Šçš„Native Appæˆ–å¤šæˆ–å°‘ä¼šåµŒå…¥ä¸€äº›webé¡µé¢ï¼Œè¯¸å¦‚æ·˜å®ã€äº¬ä¸œç­‰APPï¼Œæ‰€ä»¥å¦‚ä»ŠçœŸæ­£æ„ä¹‰ä¸Šçš„åŽŸç”Ÿåº”ç”¨åˆè¯¥å¦‚ä½•åŽ»å®šä¹‰å‘¢ï¼ŸHybrid Appå—åˆ°è¶Šæ¥è¶Šå¤šå¼€å‘è€…çš„è¿½æ§ä¸Žå…¶å¼€å‘å‘¨æœŸçŸ­ï¼Œå¼€å‘éš¾åº¦å°ï¼Œè·¨å¹³å°ç¦»ä¸å¼€ï¼Œå½“ç„¶APPçš„æ•ˆæžœä¹Ÿæˆä¸ºå¤§å®¶è¯Ÿç—…çš„è¯é¢˜ï¼Œå¦‚é¦–å±æ‰“å¼€ç¼“æ…¢ï¼ŒåŠ¨ç”»æ•ˆæžœä¸å¤Ÿæµç•…ç­‰ã€‚ ä¸‰ç§æ–¹å¼çš„æŠ€æœ¯æ¯”è¾ƒï¼ˆå›¾ç‰‡æ¥è‡ªç½‘ç»œï¼‰ ä¸‰ã€Hybrid Appå¼€å‘çš„æ ¸å¿ƒæ¯«æ— ç–‘é—®ï¼Œwebviewæ˜¯Hybrid Appå¼€å‘çš„æ ¸å¿ƒã€‚webviewå¯ä»¥ç®€å•çš„ç†è§£ä¸ºä¸€ä¸ªæµè§ˆå™¨ã€‚webview ä½¿ç”¨çš„æ˜¯æ‰‹æœºè‡ªå¸¦çš„æµè§ˆå™¨å†…æ ¸ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ‰‹æœºåŽ‚å®¶åœ¨å†…ç½®æµè§ˆå™¨çš„æ—¶å€™éƒ½ä¼šå¯¹å…¶å†…æ ¸åšä¸€å®šçš„ä¿®æ”¹ï¼Œæ‰€ä»¥åœ¨webviewæ¸²æŸ“çš„å†…å®¹å¯èƒ½æˆ–æœ‰äº›å·®å¼‚ï¼Œä½†æ˜¯è¿™åŸºæœ¬ä¸Šä¸å½±å“APPçš„å¼€å‘ã€‚ç»å¤§éƒ¨åˆ†æ‰‹æœºéƒ½ä½¿ç”¨çš„æ˜¯WebKitä½œä¸ºwebviewçš„æ¸²æŸ“å¼•æ“Žã€‚å…³äºŽWebKitä»¥åŠå…¶ä»–çš„æµè§ˆå™¨å†…æ ¸çŸ¥è¯†å¯ä»¥æŸ¥çœ‹è¿™é‡Œã€‚ å…³äºŽwebviewçš„çŸ¥è¯†ç‚¹éžå¸¸å¤šï¼Œå¦‚åœ¨androidä¸Šå¸¸ç”¨çš„å±žæ€§ï¼šWebSettingsã€WebViewClientï¼Œä¸ŽJavaScriptçš„äº¤äº’ï¼Œjsæ³¨å…¥æ¼æ´žï¼ŒjsBridgeç­‰ç­‰ï¼Œåœ¨æ­¤ä»¥Kotlinä¸ºä¾‹å®žçŽ°ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œé¡¹ç›®æºç ç‚¹å‡»è¿™é‡Œã€‚ MAinActivity.kt 12345678910111213141516171819202122232425262728293031323334353637383940package com.example.wxqdoit.kotlintestimport android.os.Buildimport android.os.Bundleimport android.support.annotation.RequiresApiimport android.support.design.widget.BottomNavigationViewimport android.support.v4.app.Fragmentimport android.support.v7.app.AppCompatActivityimport android.widget.Toastimport kotlinx.android.synthetic.main.activity_main.*class MainActivity : AppCompatActivity() &#123; @RequiresApi(Build.VERSION_CODES.O) override fun onCreate(savedInstanceState: Bundle?) &#123; super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) bottom_navigation.setOnNavigationItemSelectedListener(mBottomNavigationView) val fragments: MutableList&lt;Fragment&gt; = ArrayList&lt;Fragment&gt;() fragments.add(Fragment1("https://www.baidu.com")) fragments.add(Fragment1("https://www.jianshu.com")) fragments.add(Fragment1("https://aidn.jp/mikutap/")) vp_main.adapter = ViewPagerAdapter(supportFragmentManager,fragments) &#125; private val mBottomNavigationView = BottomNavigationView.OnNavigationItemSelectedListener &#123; item -&gt; when (item.itemId) &#123; R.id.word -&gt; &#123; //vp_main.currentItem = 0 Toast.makeText(this,"ç‚¹å‡»äº†",Toast.LENGTH_SHORT).show() return@OnNavigationItemSelectedListener true &#125; R.id.pic -&gt; &#123; //vp_main.currentItem = 1 return@OnNavigationItemSelectedListener true &#125; R.id.me -&gt; &#123; //vp_main.currentItem = 2 return@OnNavigationItemSelectedListener true &#125; &#125; false &#125;&#125; ViewPagerAdapter.kt 12345678910111213package com.example.wxqdoit.kotlintestimport android.support.v4.app.Fragmentimport android.support.v4.app.FragmentManagerimport android.support.v4.app.FragmentPagerAdapter//ç»§æ‰¿ FragmentPagerAdapter åˆ›å»ºé€‚é…å™¨class ViewPagerAdapter(fm: FragmentManager?, var list: List&lt;Fragment&gt;) : FragmentPagerAdapter(fm) &#123; override fun getItem(position: Int): Fragment &#123; return list.get(position) &#125; override fun getCount(): Int &#123; return list.size &#125;&#125; Fragment1.kt 1234567891011121314151617181920212223242526272829303132333435package com.example.wxqdoit.kotlintestimport android.annotation.SuppressLintimport android.os.Buildimport android.os.Bundleimport android.support.annotation.RequiresApiimport android.support.v4.app.Fragmentimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport android.webkit.WebResourceRequestimport android.webkit.WebViewimport android.webkit.WebViewClientimport kotlinx.android.synthetic.main.fragment1.view.*@SuppressLint("ValidFragment")class Fragment1(private val url: String):Fragment() &#123; @SuppressLint("SetJavaScriptEnabled") @RequiresApi(Build.VERSION_CODES.O) override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? &#123; val view = inflater.inflate(R.layout.fragment1, container, false) val webView = view.testWebView webView!!.webViewClient = webClient webView.settings.javaScriptEnabled = true webView.settings.allowContentAccess = true webView.settings.layoutAlgorithm webView.loadUrl(url) return view &#125; private val webClient = object : WebViewClient() &#123; @RequiresApi(Build.VERSION_CODES.LOLLIPOP) override fun shouldOverrideUrlLoading(view: WebView, request:WebResourceRequest ): Boolean &#123; view.loadUrl(request.url.toString()) return true &#125; &#125;&#125; æ•ˆæžœå¦‚ä¸‹ å››ã€ç§»åŠ¨APPé€‚é…åšè¿‡åŽŸç”Ÿå¼€å‘çš„éƒ½çŸ¥é“ç¾Žæœ¯éœ€è¦å‡ºå‡ å¥—å›¾ä»¥é€‚é…ä¸åŒçš„åˆ†è¾¨çŽ‡ï¼Œ720Ã—1280ã€750Ã—1334ã€1080Ã—1920ã€1242Ã—2208ï¼Œæ›´å¤§æˆ–è€…æ›´å°çš„å±åœ¨å¸‚é¢ä¸Šä¹Ÿå¸¸è§ï¼Œandroidä¸Šå­—ä½“å¤§å°é€šå¸¸ä»¥dpã€spä½œä¸ºå•ä½ã€‚Hybrid Appåœ¨åªæœ‰ä¸€å¥—ç¾Žæœ¯UIçš„æƒ…å†µä¸‹åº”å½“å¦‚ä½•å¤„ç†ä»¥é€‚é…ä¸åŒçš„æœºåž‹å‘¢ï¼Ÿ åª’ä½“æŸ¥è¯¢ã€ç™¾åˆ†æ¯”ï¼Œæˆ–æ˜¯ç›´æŽ¥ä½¿ç”¨webç«¯å¸¸ç”¨çš„å•ä½pxã€emã€remä»¥åŠvhã€vwï¼Œéƒ½æ˜¯å¸¸ç”¨çš„é€‚é…æ–¹æ¡ˆã€‚åœ¨è®¾è®¡ç¨¿ç»™åˆ°å›ºå®šå®½åº¦çš„æƒ…å†µä¸‹ï¼Œç›¸å¯¹è€Œè¨€ï¼Œä½¿ç”¨remä½œä¸ºå•ä½æ˜¯æ¯”è¾ƒåˆç†çš„é€‰æ‹©ï¼Œè‡³äºŽç§»åŠ¨è®¾å¤‡é€‚é…ï¼Œå±å¹•å®½åº¦ï¼Œé€»è¾‘åƒç´ ã€ç‰©ç†åƒç´ ã€dpiç­‰çŸ¥è¯†å°±ä¸åœ¨æ­¤å¤„èµ˜è¿°ï¼Œåˆ†äº«ä¼˜ç§€çš„åšå®¢ï¼š ç§»åŠ¨è®¾å¤‡é€‚é…åŸºç¡€çŸ¥è¯†é€Ÿæˆï¼šweibo.com/p/1001603933391216084991 äº”ã€flexible.jsflexibleæ˜¯æ·˜å®ä½¿ç”¨çš„ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆï¼ŒåŽŸç†å³æ ¹æ®æœºåž‹åˆ†è¾¨çŽ‡è¿›è¡Œé€‚é…ï¼Œè®¾ç½®æ ¹font-sizeï¼Œä½¿ç”¨ç›¸å¯¹å•ä½remã€‚å…¶æ ¸å¿ƒåŠŸèƒ½å¦‚ä¸‹ï¼š åˆ¤æ–­metaæ ‡ç­¾ï¼ŒåŠ¨æ€æ”¹å†™æ ‡ç­¾ ç»™htmlæ ‡ç­¾æ·»åŠ data-dprå±žæ€§ ç»™htmlæ ‡ç­¾æ·»åŠ font-sizeå±žæ€§ æ ¹font-sizeï¼ˆå³htmlæ ‡ç­¾ä¸Šçš„ï¼‰å±žæ€§å€¼å³ä¸ºä¸€ä¸ªå•ä½çš„remï¼Œåœ¨chromeæµè§ˆå™¨ä¸Šï¼Œé»˜è®¤çš„font-sizeå€¼ä¸º16pxï¼šå³16px=1rem 12getComputedStyle(document.getElementsByTagName("html")[0])["font-size"];//16px flexible.jsæ ¸å¿ƒä»£ç ï¼š 1234567891011121314151617181920function refreshRem()&#123; var width = docEl.getBoundingClientRect().width; if (width / dpr &gt; 540) &#123; width = 540 * dpr; &#125; var rem = width / 10; docEl.style.fontSize = rem + 'px'; docEl.setAttribute("font-size",rem + 'px'); flexible.rem = win.rem = rem;&#125;win.addEventListener('resize', function() &#123; clearTimeout(tid); tid = setTimeout(refreshRem, 200);&#125;, false);win.addEventListener('pageshow', function(e) &#123; if (e.persisted) &#123; clearTimeout(tid); tid = setTimeout(refreshRem, 200); &#125;&#125;, false); å°†è®¾å¤‡å®½åº¦åˆ†ä¸º10ä»½ï¼Œè€Œæ¯ä¸€ä»½è§†ä½œä¸€ä¸ªå•ä½ï¼Œå†å°†htmlçš„font-sizeè®¾ç½®ä¸ºè¿™ä¸ªå•ä½å³ï¼š font-size = 750/10 = 75pxï¼› 1rem = 75pxï¼› å¦‚æžœåœ¨å®½åº¦ä¸º750pxçš„è®¾å¤‡ä¸Šï¼Œå®Œå…¨ç¬¦åˆä¸Šè¿°æ¢ç®—ã€‚å¦‚æžœåœ¨iphone6/7/8ä¸Šï¼Œå®½åº¦ä¸º375ï¼Œé‚£ä¹ˆ: font-size = 375/10 = 37.5pxï¼› 1rem = 37.5pxï¼› çŽ°åœ¨ä»¥å®½ä¸º750çš„è®¾è®¡ç¨¿ä¸ºä¾‹ï¼Œæœ‰ä¸€ä¸ªæ¬¾750pxé«˜75pxçš„æŒ‰é’® ï¼›åœ¨iphone6/7/8ä¸Šï¼ˆå®žé™…å®½375pxï¼‰æˆ‘ä»¬å®žé™…çœ‹åˆ°çš„å®½é«˜æ˜¯å¤šå°‘å‘¢ï¼Ÿ width = 750/75 = 10rem â€”&gt; 10rem(åœ¨iphone6/7/8ä¸Š) = 37.5px*10 = 375pxï¼› height = 75/75 = 1rem â€”&gt;1rem(åœ¨iphone6/7/8ä¸Š) = 37.5px; ä¸éš¾çœ‹å‡ºï¼Œåªéœ€è¦å°†è¿™ä¸ªå•ä½ä½œä¸ºé™¤æ•°å³å¯è®¡ç®—å‡ºæ‰€éœ€è¦çš„å€¼ï¼› å…­ã€æ‰“åŒ…å·¥å…·å¼€å‘å®Œæˆä¹‹åŽä½¿ç”¨hbuilderæˆ–cordovaæ‰“åŒ…æˆä¸ºandroid APKæˆ–è€…ios IPAã€‚æˆ‘æ›´åå‘äºŽcordovaï¼Œæ’ä»¶ç›¸å¯¹æ›´å¤šï¼Œç¤¾åŒºæ›´åŠ æ´»è·ƒï¼Œç¨³å®šçš„æ›´æ–°ç»´æŠ¤ã€‚å½“ç„¶ï¼Œå­°ä¼˜å­°åŠ£å„è‡ªä½“ä¼šã€‚ä¸‹æ–‡ä¼šå…·ä½“ä»‹ç»cordovaçš„ç›¸å…³çŸ¥è¯†ã€‚ Hbuildï¼šhttp://www.dcloud.io/ cordovaï¼šhttps://cordova.apache.org/ ä¸ƒã€UIæ¡†æž¶å¼€å‘æ¡†æž¶å¸¸ç”¨çš„æœ‰ionicï¼Œmuiï¼ŒjQuery Mobileï¼Œweuiç­‰ç­‰ã€‚å°±äº‹å®žè€Œè®ºï¼Œå½“è®¾è®¡ç¨¿ç»™åˆ°å¼€å‘è€…æ—¶ï¼Œæˆ–è€…è¿™äº›éƒ½ç”¨ä¸åˆ°ï¼Œå…¨å¥—UIè‡ªå·±å†™ä¹Ÿæ˜¯å¸¸è§çš„ã€‚ å…«ã€angularã€reactè¿˜æ˜¯vueï¼Ÿangularã€reactç›¸å¯¹è€Œè¨€æ¯”è¾ƒé‡ï¼Œvueæ˜¾å¾—è½»é‡ä¸€äº›ï¼Œå½“å¼€å‘å¤§åž‹SPAåº”ç”¨æ—¶ï¼Œå‰ä¸¤è€…æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œè€Œvueå®Œæ•´çš„å·¥å…·é“¾ä»¥åŠæ´»è·ƒçš„ç¤¾åŒºä¹Ÿé€‚åº”ç»å¤§éƒ¨åˆ†çš„å¼€å‘åœºæ™¯ã€‚ ä¹ã€jQueryè¿˜ç”¨å—ï¼Ÿå¯¹äºŽäº‹ä»¶çš„å°è£…ï¼ŒDOMæ“ä½œçš„å®žçŽ°éƒ½æ˜¯æ¯«æ— ç–‘é—®éœ€è¦ä½¿ç”¨çš„ï¼ŒåŒæ—¶é›†æˆçš„ajaxå°è£…ä¹Ÿå¿…ä¸å¯å°‘ï¼Œä¸è¿‡ä¸è®ºæ˜¯Web APPçš„å¼€å‘è¿˜æ˜¯ Hybrid Appçš„å¼€å‘ï¼Œjqéƒ½æ˜¯ä¸äºŒä¹‹é€‰ã€‚ä½†å½“æˆ‘ä»¬åœ¨å¯¹è¯·æ±‚è¿‡æ»¤çš„å¤„ç†æ—¶ï¼Œè¿™äº›getï¼Œpostæ–¹æ³•åŸºæœ¬ä¸Šä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæ‰€ä»¥éœ€è¦å¯¹è¯·æ±‚è¿›è¡ŒäºŒæ¬¡å°è£…ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798/** * é€šç”¨è¯·æ±‚æ•°æ®æŽ¥å£ * @param reqUrl * @param reqType * @param data * @param fn */ commonRequest: function commonRequest(reqUrl, reqType, data, fn) &#123; $.ajax(&#123; url: reqUrl, type: reqType, data: data, async: false, success: function success(data) &#123; fn(data); &#125;, error: function error(data) &#123; $.lightTip.error("ç½‘ç»œè¯·æ±‚é”™è¯¯-" + data.status, 2000); &#125; &#125;); &#125;, /** * äºŒæ¬¡å°è£…getè¯·æ±‚ * @param reqUrl * @param data * @param fn */ get: function get(reqUrl, data, fn) &#123; $.ajax(&#123; url: reqUrl, type: 'GET', data: data, async: false, success: function success(data) &#123; if (data.meta.code === 200) &#123; fn(data); &#125; else &#123; alert(data.meta.message); throw new Error(data.meta.message); &#125; &#125;, error: function error(data) &#123; $.lightTip.error("ç½‘ç»œè¯·æ±‚é”™è¯¯-" + data.status, 2000); &#125; &#125;); &#125;, /** * äºŒæ¬¡å°è£…postè¯·æ±‚ * @param reqUrl * @param data * @param fn */ post: function post(reqUrl, data, fn) &#123; $.ajax(&#123; url: reqUrl, type: 'POST', data: data, async: false, success: function success(data) &#123; if (data.meta.code === 200) &#123; fn(data); &#125; else &#123; alert(data.meta.message); throw new Error(data.meta.message); &#125; &#125;, error: function error(data) &#123; $.lightTip.error("ç½‘ç»œè¯·æ±‚é”™è¯¯-" + data.status, 2000); &#125; &#125;); &#125;, /** * formDataä¸Šä¼ æ•°æ® * @param reqUrl * @param reqType * @param data * @param fn */ formDataReq: function formDataReq(reqUrl, reqType, data, fn) &#123; $.ajax(&#123; url: reqUrl, data: data, type: reqType, processData: false, contentType: false, success: function success(data) &#123; if (data.meta.code === 200) &#123; fn(data); &#125; else &#123; alert(data.meta.message); throw new Error(data.meta.message); &#125; &#125;, error: function error(data) &#123; $.lightTip.error("ç½‘ç»œè¯·æ±‚é”™è¯¯-" + data.status, 2000); &#125; &#125;); &#125;, è¿™æ ·å°è£…ä¸€æ¬¡ï¼Œå½“ç”¨æˆ·æ²¡æœ‰ç™»å½•æ—¶ï¼Œå¯ä»¥æ ¹æ®è¿”å›žçš„æ•°æ®è¿›è¡Œè¿‡æ»¤å¤„ç†ã€‚ å½“ç„¶å¦‚æžœä½ ä¸ç”¨jqä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–çš„ç±»åº“å¦‚å°è£…ajaxè¯·æ±‚çš„axiosï¼ åã€swiperæ˜¯ä¸ªå¥½ä¸œè¥¿swiperå¸¸ç”¨äºŽç§»åŠ¨ç«¯ç½‘ç«™çš„å†…å®¹è§¦æ‘¸æ»‘åŠ¨ï¼Œæ˜¯çº¯javascriptæ‰“é€ çš„æ»‘åŠ¨ç‰¹æ•ˆæ’ä»¶ï¼Œé¢å‘æ‰‹æœºã€å¹³æ¿ç”µè„‘ç­‰ç§»åŠ¨ç»ˆç«¯ï¼ŒSwiperèƒ½å®žçŽ°è§¦å±ç„¦ç‚¹å›¾ã€è§¦å±Tabåˆ‡æ¢ã€è§¦å±å¤šå›¾åˆ‡æ¢ç­‰å¸¸ç”¨æ•ˆã€‚è¿™ä¸ªæ’ä»¶åŠŸèƒ½ç¡®å®žå¼ºå¤§ï¼Œå®˜ç½‘æƒŠè‰³ï¼Œapiæ–‡æ¡£èµ°å¿ƒï¼Œæ€§èƒ½ä¸é”™ã€‚ç”¨ä½œAPPå¼€å‘çš„ä¸»å®¹å™¨äº¦æœ‰ä¸€æˆ˜ä¹‹åŠ›ã€‚ åä¸€ã€cordovaå¼€å‘è¯¦è§£1ã€cordovaå¼€å‘çŽ¯å¢ƒæ­å»ºï¼Œä»¥androidä¸ºä¾‹1ã€å®‰è£…jdkï¼ˆå»ºè®®jdk8+ï¼‰ï¼Œé…ç½®çŽ¯å¢ƒå˜é‡ï¼› 2ã€å®‰è£…android sdkï¼ˆè‡³å°‘åˆ°27ï¼Œä¹Ÿå¯ä»¥å®‰è£…android studioä¾èµ–å®‰è£…ï¼‰ï¼Œé…ç½®çŽ¯å¢ƒå˜é‡ï¼› 3ã€å®‰è£…nodeï¼ˆnpmï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨yarnï¼‰ï¼ˆnodeå»ºè®®8+ï¼‰ï¼Œå¦‚æžœä¸æ˜¯é»˜è®¤å®‰è£…ï¼Œè¯·é…ç½®çŽ¯å¢ƒå˜é‡ï¼› 4ã€å®‰è£…bowerï¼Œç”¨ä»¥ä¸‹è½½å„ç§å‰ç«¯ç±»åº“ï¼› 5ã€ä½¿ç”¨npm install -g cordovaå…¨å±€å®‰è£…cordovaï¼Œå¦‚æžœå®‰è£…è¿‡æ…¢æˆ–å¤±è´¥è¯·ç§‘å­¦ä¸Šç½‘ï¼› 2ã€åˆ›å»ºä¸€ä¸ªappå¹¶è¿è¡Œèµ·æ¥1ã€cordova create \[æ–‡ä»¶å¤¹å\] \[åŒ…å\] \[appå\] 1$ cordova create hello com.example.hello HelloWorld 2ã€æ·»åŠ å¹³å°ï¼ˆä»¥androidä¸ºä¾‹ï¼‰ 123$ cd hello$ cordova platform add android 3ã€buildé¡¹ç›® 123456789cordova build android...............BUILD SUCCESSFUL in 7s47 actionable tasks: 1 executed, 46 up-to-dateBuilt the following apk(s): D:\dev\****\****\****\platforms\android\app\build\outputs\apk\debug\app-debug.apk åœ¨è·¯å¾„ï¼š\platforms\android\app\build\outputs\apk\debug\app-debug.apkä¸‹å¯ä»¥æ‰¾åˆ°apkæ–‡ä»¶ã€‚ 3ã€å¸¸ç”¨å‘½ä»¤123456789101112Global Commands create ............................. åˆ›å»ºé¡¹ç›® help ............................... èŽ·å–å¸®åŠ© telemetry .......................... å¼€å¯æˆ–å…³é—­é¥æµ‹é‡‡é›† config ............................. å…¨å±€é…ç½®Project Commands info ............................... é¡¹ç›®åŸºæœ¬ä¿¡æ¯ requirements ....................... æ£€æŸ¥å¹¶æ‰“å°å‡ºæŒ‡å®šå¹³å°çš„æ‰€æœ‰è¦æ±‚ platform ........................... ç®¡ç†é¡¹ç›®å¹³å° plugin ............................. ç®¡ç†æ’ä»¶ compile ............................ ç¼–è¯‘é¡¹ç›® clean .............................. æ¸…é™¤é¡¹ç›® æ›´å¤šå‘½ä»¤å¯ä»¥åˆ°å®˜ç½‘æŸ¥çœ‹ã€‚ 4ã€é¡¹ç›®ç»“æž„å¦‚æžœé¡¹ç›®æˆåŠŸè¿è¡Œï¼Œæ‚¨çœ‹åˆ°çš„é¡¹ç›®ç»“æž„åº”è¯¥å¦‚ä¸‹ï¼š wwwæ–‡ä»¶å¤¹ä½œä¸ºå¼€å‘ä¸»æ–‡ä»¶å¤¹ï¼› resæ–‡ä»¶å¤¹å­˜æ”¾appçš„é—ªå±å›¾ç‰‡å’Œiconï¼› pluginsæ–‡ä»¶å¤¹å­˜æ”¾æ’ä»¶ï¼› plaatformsæ–‡ä»¶å¤¹å­˜æ”¾è¯¸å¦‚androidã€iosç­‰å„ç«¯çš„æ–‡ä»¶ï¼› node-modulesæ–‡ä»¶å¤¹è‡ªç„¶æ˜¯ä¾èµ–çš„å„ä¸ªæ¨¡å— config.xmlæ˜¯é¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œä½ æ·»åŠ çš„æ’ä»¶å°†ä¼šåœ¨é‡Œé¢æ˜¾ç¤ºï¼Œå¦‚çŠ¶æ€æ æ’ä»¶ï¼Œä½ å¯ä»¥æ·»åŠ æ›´å¤šæ’ä»¶ã€‚ 1&lt;plugin name=&quot;cordova-plugin-statusbar&quot; spec=&quot;^2.4.2&quot; /&gt; 5ã€å¸¸ç”¨æ’ä»¶æ”¶é›†ï¼šphonegap-plugin-barcodescanner ï¼š äºŒç»´ç æ‰«æ cordova-plugin-statusbarï¼šçŠ¶æ€æ  cordova-plugin-inappbrowserï¼š å†…ç½®æµè§ˆ cordova-plugin-cameraï¼šç…§ç›¸æœº æ’ä»¶å¤ªå¤šå¯æŸ¥çœ‹è¿™é‡Œ å®˜æ–¹çš„æ’ä»¶æœç´¢åœ°å€ç‚¹å‡»è¿™é‡Œ 6ã€æ’ä»¶ä½¿ç”¨ï¼Œä»¥imagePickerä¸ºä¾‹å­1cordova plugin add cordova-plugin-imagepicker ä½¿ç”¨ï¼š 12345678910111213141516171819202122document.addEventListener("deviceready",onDeviceReady); function onDeviceReady()&#123; console.log("onDeviceReady"); $(document).on("tap","#getPictures",()=&gt;&#123; window.imagePicker.getPictures( function(results) &#123; for (let i = 0; i &lt; results.length; i++) &#123; console.log('Image URI: ' + results[i]); alert('Image URI: ' + results[i]); &#125; &#125;, function (error) &#123; console.log('Error: ' + error); alert('Error: ' + error); &#125;,&#123; maxImages: 9, width: 500, height: 500, quality:60 &#125; ); &#125;) &#125; å½“ç„¶è¦å®žçŽ°QQç™»å½•ã€å¾®ä¿¡ç™»å½•ç­‰åŠŸèƒ½ä¹Ÿæ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜çš„ï¼Œåªéœ€è¦æ·»åŠ å¯¹åº”çš„æ’ä»¶ä½¿ç”¨å°±å¯ä»¥äº†ã€‚ 7ã€æž„å»ºreleaseç‰ˆæœ¬ä»¥åŠç­¾åæž„å»ºreleaseç‰ˆæœ¬cordova build android â€“release å¯¹ APK ç­¾åjarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore release-key.keystore platforms/android/build/outputs/apk/android-release-unsigned.apk [ç§˜é’¥]apkç­¾åçš„ç›¸å…³çŸ¥è¯†æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥é˜…è¯»è¿™ä¸€ç¯‡ï¼šCordova æ‰“åŒ… Android release app è¿‡ç¨‹è¯¦è§£]]></content>
      <categories>
        <category>æŠ€æœ¯æ ˆ</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[egretå¼€å‘ç³»åˆ—ä¹‹scoller+liståˆ—è¡¨ä½¿ç”¨]]></title>
    <url>%2F20181122%2Fegret%2F</url>
    <content type="text"><![CDATA[ä¸€ã€æ¦‚è¦1ã€egreté¡¹ç›®éœ€è¦ä½¿ç”¨åˆ°æ»‘åŠ¨åˆ—è¡¨ï¼Œä¹‹å‰åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šæ–‡ç« ï¼Œæ€»çš„æ¥è¯´è®²çš„ä¸ƒé›¶å…«è½ï¼Œè´¨é‡ä¹Ÿä¸é«˜ï¼ŒåŠ ä¹‹ä¸Žegretç›¸å…³çš„èµ„æ–™ä¹Ÿå°‘ä¹‹åˆå°‘ï¼Œæ‰€ä»¥æœ¬åºŸæŸ´ä¹Ÿç ”ç©¶äº†å¾ˆä¹…æ‰æ€»ç»“ä¸‹æ¥ï¼Œå¸Œæœ›ç»™æœ‰æ¬¡ç›¸å…³éœ€æ±‚çš„å°èŒæ–°èµ·åˆ°ä¸€ä¸¢ä¸¢å¼•å¯¼ï¼å¤§ä½¬è¿˜è¯·è‡ªåŠ¨é£˜è¿‡ã€‚ 2ã€æ»‘åŠ¨åˆ—è¡¨æ˜¯é¡¹ç›®ä¸­å¸¸è§çš„ç»„ä»¶ï¼Œæ¯”å¦‚è£…å¤‡åˆ—è¡¨ï¼ŒæŽ’è¡Œæ¦œç­‰éƒ½éœ€è¦ä½¿ç”¨åˆ°ï¼Œè¿™é‡Œegreté‡Œé¢ä½¿ç”¨euiä¸­Scroller+Listå®žçŽ°ã€‚ äºŒã€å®žçŽ°æ•ˆæžœé¢„è§ˆ å¤§æ¦‚å°±æ˜¯ä¸€ä¸ªä»»åŠ¡è§’è‰²çš„æ»‘åŠ¨åˆ—è¡¨ï¼Œç‚¹å‡»æ¢è£…ï¼Œå¤´é¡¶æœ‰ä¸ªç»¿è‰²çš„å­—å±•ç¤ºåˆ‡æ¢çŠ¶æ€ï¼Œæ»‘åŠ¨çš„æ—¶å€™ï¼Œé è¿‘ä¸­é—´çš„iteméœ€è¦æ¸è¿›æ”¾å¤§ï¼Œè¿œç¦»ä¸­é—´çš„iteméœ€è¦æ¸è¿›ç¼©å°ï¼ˆç“œçš®ç­–åˆ’æçš„éœ€æ±‚ï¼Œå¸Œæœ›ä¸è¦è¢«çœ‹è§ï¼ï¼ è™½ç„¶å°±æ˜¯è¿™ä¹ˆä¸€ä¸ªç®€å•çš„æ•ˆæžœï¼Œå®žçŽ°èµ·æ¥è¿˜æ˜¯æœ‰ä¸€äº›å¤æ‚ï¼ˆç­–åˆ’ï¼šå¯¹å•Šï¼Œå¾ˆç®€å•å•Šï¼æˆ‘ï¼šç®€å•nmbï¼ ä¸‰ã€å®žçŽ°1ã€é¦–å…ˆé»˜è®¤æ‚¨çŸ¥é“exmlçš„ä½¿ç”¨å‰æä¸‹ï¼Œéœ€è¦å‡†å¤‡å››ä¸ªæ–‡ä»¶ï¼š SkinSelectPanel.exml â€“&gt;ç•Œé¢å¸ƒå±€exmlæ–‡ä»¶ï¼› ScrollerItem.exml â€“&gt;æ¯ä¸€ä¸ªå°itemçš„exmlæ–‡ä»¶ï¼› SkinSelectPanel.ts â€“&gt;ç•Œé¢å¸ƒå±€çš„é€»è¾‘å¤„ç†tsæ–‡ä»¶ï¼› ScrollerItem.ts â€“&gt;æ¯ä¸€ä¸ªå°itemçš„é€»è¾‘å¤„ç†tsæ–‡ä»¶ï¼› 2ã€exmlå¸ƒå±€æ–‡ä»¶ä¸Žtsé€»è¾‘çš„å…³è” å¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œexmlæ–‡ä»¶æœ€é‡è¦çš„æ˜¯æ¯ä¸€ä¸ªç»„ä»¶çš„å‘½åï¼Œå³å³ä¸Šè§’çš„IDï¼Œå®ƒå°†ä¸Žtsé‡Œé¢å®šä¹‰çš„å˜é‡ä¸€ä¸€å¯¹åº”ï¼›è®°ä½Listæ”¾åœ¨Scolleré‡Œé¢ã€‚ ç‚¹å‡»å³ä¾§çš„listï¼Œå…³äºŽlistçš„å¸ƒå±€è®¾ç½®å¯ä»¥å±•ç¤ºå‡ºæ¥ï¼Œæ¯”å¦‚VerticalLayoutï¼ŒHorizontalayoutç­‰å¸ƒå±€æ–¹å¼ã€æ°´å¹³åž‚ç›´é—´è·ã€å†…è¾¹è·ç­‰ç­‰å±žæ€§éƒ½å¯ä»¥å®‰è£…éœ€æ±‚è®¾ç½®ï¼Œå½“ç„¶åœ¨ä»£ç é‡Œé¢è®¾ç½®ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ SkinSelectPanelç±»éœ€è¦ç»§æ‰¿eui.Componentï¼Œæž„é€ å™¨é‡Œéœ€è¦å®žçŽ°superæ–¹æ³•ï¼Œå¹¶ç»™skinNameèµ‹å€¼ã€‚ å®šä¹‰çš„å˜é‡åä¸Žexmlé‡Œç»„ä»¶çš„IDåç›¸åŒè¿™æ ·å°±è‡ªåŠ¨å¯¹åº”èµ·æ¥äº†ã€‚ æ­¤å¤–ï¼Œä¸ºäº†æ€§èƒ½ï¼Œç‰¹æ„å†™æˆå•ä¾‹ã€‚ 123456789101112131415161718192021222324class SkinSelectPanel extends eui.Component&#123; private static instance; public skinBg:eui.Image; public scroller:eui.Scroller; public list : eui.List; public roles_component:eui.Group; public close_btn:eui.Image; public role :RoleDragonAni; public oxygen_label:eui.Label; public revival_label:eui.Label; public speed_label:eui.Label; public rolename_label:eui.Label; public des_label:eui.Label; private constructor() &#123; super(); this.skinName = "resource/eui_skins/SkinSelectPanel.exml"; &#125; static getInstance(): SkinSelectPanel &#123; return SkinSelectPanel.instance ? SkinSelectPanel.instance : SkinSelectPanel.instance = new SkinSelectPanel(); &#125;&#125; ScrollerItemç±»éœ€è¦ç»§æ‰¿eui.ItemRendererï¼Œå¦å¤–æœ‰ä¸€ä¸ªprotectedç±»åž‹dataChanged()æ–¹æ³•ï¼Œæ­¤æ–¹æ³•ç”¨äºŽç›‘å¬ç»‘å®šåœ¨itemä¸Šæ•°æ®çš„å˜åŒ–æƒ…å†µã€‚ 123456789101112131415161718192021class ScrollerItem extends eui.ItemRenderer &#123; public rolename :eui.Label; public avatar:eui.Image; public bgi:eui.Image; public clothId:string; public isSelect:eui.Image; public dataManager:DataManager = DataManager.getInstance(); public skinSelectPanel:SkinSelectPanel = SkinSelectPanel.getInstance(); public socket:SocketUtils = SocketUtils.getInstance(); public constructor() &#123; super(); this.skinName =&quot;resource/eui_skins/ScrollerItem.exml&quot;; //this.data è¿™ä¸ªdataæ˜¯åœ¨ç»‘å®šæ•°æ®çš„æ—¶å€™ï¼Œèµ‹åˆ°è¿™ä¸ªç±»ä¸Šé¢çš„ï¼Œç¨åŽä¼šç”¨åˆ° &#125; protected dataChanged():void&#123; //æ­¤å¤„å¯¹this.dataè¿›è¡Œæ“ä½œ &#125;&#125; 3ã€å…·ä½“å®žçŽ° SkinSelectPanel ç»§æ‰¿äº†eui.Componentæœ‰ä¸€ä¸ªprotectedç±»åž‹çš„createChildren()æ–¹æ³•ï¼Œä¸»é€»è¾‘å°±å†™åœ¨è¿™é‡Œé¢å§ï¼š 12345678910111213141516protected createChildren(): void &#123; super.createChildren(); //listæ˜¯åœ¨exmlä¸­çš„ç»„ä»¶Listï¼Œå®ƒæœ‰dataProviderå±žæ€§ï¼Œè´Ÿè´£æä¾›æ•°æ®åˆ—è¡¨æºï¼Œè¿™ä¸ªæ•°æ®åˆ—è¡¨å¿…é¡»æ˜¯ //eui.ArrayCollection()çš„,è¿™çŽ©æ„æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œå¦‚replaceAll()ï¼Œå¯ä»¥ç‚¹è¿›æºç åŽ»çœ‹ï¼Œå¾ˆç®€å•ä¸èµ˜è¿°ã€‚ this.list.dataProvider = this.dataArray; //itemRenderer å³æ¸²æŸ“çš„itemå¯¹è±¡ï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬çš„ScrollerItemç±»ï¼Œè¿™æ ·èµ‹å€¼ä¹‹åŽï¼Œæ¯ä¸€ä¸ªScrollerItemä¸Šé¢ //éƒ½ä¼šç»‘å®šä¸€ä¸ªdataå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯éœ€è¦æ¸²æŸ“çš„æ•°æ®ã€‚ this.list.itemRenderer = ScrollerItem; this.dataArray.replaceAll(this.dataManager.skinList); this.list.addEventListener(eui.ItemTapEvent.ITEM_TAP, this.onItemTapHandler, this); this.scroller.addEventListener(egret.Event.CHANGE,this.moveScroller,this); this.close_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePanel,this); this.roles_component.addEventListener(egret.TouchEvent.TOUCH_TAP,this.playAction,this); this.scroller.addEventListener(egret.Event.ADDED,this.initScale,this)&#125; è¿™æ ·åŸºæœ¬åŠŸèƒ½å°±å®žçŽ°å®Œæˆï¼Œå¦‚æžœä½ æœ‰æ•°æ®ï¼Œå¹¶ä¸”ä»£ç æ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆå°±å¯ä»¥çœ‹åˆ°ç®€å•çš„æ•ˆæžœäº†ï¼Œå…³äºŽgifä¸­ç¼©æ”¾çš„æ•ˆæžœï¼Œå…¶å®žå°±æ˜¯ä½ç½®çš„ä¸åœåˆ¤æ–­ï¼š è¿™ä¸ªä½ éœ€è¦ä¸ºscrollerç›‘å¬ä¸€ä¸ªäº‹ä»¶ï¼š 1this.scroller.addEventListener(egret.Event.ADDED,this.initScale,this) 123456789101112131415161718192021222324252627/** * åˆå§‹åŒ–itemçš„ç¼©æ”¾ */public initScale()&#123; let sc = this.scroller; if(sc.viewport.$children.length&gt;=5)&#123; for(let i = 0;i&lt;sc.viewport.$children.length;i++)&#123; let chaz = sc.height/2 -(sc.viewport.$children[i].y+sc.viewport.$children[i].height/2-sc.viewport.scrollV); if(Math.abs(chaz)&lt;200 &amp;&amp; Math.abs(chaz)&gt;0)&#123; if(chaz&lt;0)&#123; sc.viewport.$children[i].scaleY = 1.2+chaz/1000; sc.viewport.$children[i].scaleX = 1.2+chaz/1000; &#125;else if(chaz&gt;0)&#123; sc.viewport.$children[i].scaleY = 1.2-chaz/1000; sc.viewport.$children[i].scaleX = 1.2-chaz/1000; &#125; &#125;else if(Math.abs(chaz)==0)&#123; sc.viewport.$children[i].scaleX = 1.2; sc.viewport.$children[i].scaleY = 1.2 &#125;else&#123; sc.viewport.$children[i].scaleX = 1; sc.viewport.$children[i].scaleY = 1 &#125; &#125; this.scroller.removeEventListener(egret.Event.ADDED,this.initScale,this) &#125;&#125; å¦å¤–å…³äºŽæ¢è£…çš„ï¼Œä½¿ç”¨äº†é¾™éª¨åŠ¨ç”»ï¼Œç½‘ç»œæˆ‘ä½¿ç”¨äº†socket.ioä¸ŽæœåŠ¡å™¨ä¿æŒé•¿è¿žæŽ¥ï¼Œè¿™äº›ç”±äºŽä¸å±žäºŽæœ¬æ–‡çš„å†…å®¹å°±ä¸è¯¦ç»†è®²äº†ã€‚ å››ã€ç»“è¯­å…³äºŽæºæ–‡ä»¶å¦‚æžœéœ€è¦çš„è¯·ä¸‹æ–¹ç•™è¨€ï¼ å¦‚æžœæœ‰ä¸æ‡‚çš„åœ°æ–¹ä¹Ÿå¯ä»¥æ–¹ç•™è¨€ï¼ å¦‚æžœéœ€è¦äº†è§£å…¶ä»–ç›¸å…³çŸ¥è¯†çš„å¯ä»¥ç§ä¿¡ï¼Œå¯ä»¥åšä¸€ç¬”jyï¼ å¦å¤–è¯·å„ä½å¤§ä½¬ä¸è¦æ€¼æˆ‘ `(+ï¹+)â€²]]></content>
      <categories>
        <category>æŠ€æœ¯æ ˆ</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ•™å®¤çš„é‚£ä¸€é—´]]></title>
    <url>%2F20181026%2Fjsdnyj%2F</url>
    <content type="text"><![CDATA[æ˜¨å¤©ä¹°äº†æ–°æ‰‹æœºï¼Œé­…æ—16,8+128ï¼ŒçœŸé¦™ã€‚ å…¶å®žè€æ—©å°±æƒ³æ¢äº†ï¼Œä¸€ç›´æ‹–äº†å¾ˆä¹…ï¼Œæ€»ç®—æ˜¯å®žçŽ°äº†ã€‚ è¿™ä¸ªå‘¨å¹¶æ²¡æœ‰åšå¤ªå¤šäº‹ï¼Œæµ‘æµ‘å™©å™©ï¼Œè¡Œå°¸èµ°è‚‰ä¸€èˆ¬ï¼ŒåŠ ä¸Šæœ‰ç‚¹æ„Ÿå†’ï¼Œä¸Šç­ä¹Ÿæ²¡æœ‰å¤ªå¥½çš„çŠ¶æ€ã€‚ è¿™å‡ å¤©ã€Šæ•™å®¤çš„é‚£ä¸€é—´ã€‹ä¹Ÿå¾ˆç«ï¼Œè¿™éƒ¨å‰§æ˜¯åœ¨ä¸‰ä¸­æ‹çš„ï¼Œæ¯ä¸ªåœºæ™¯éƒ½å¾ˆç†Ÿæ‚‰ï¼Œé™¤äº†ä¸€äº›æ¼”å‘˜çš„æ¼”æŠ€ä¸æ˜¯é‚£ä¹ˆå¥½ï¼Œç”·ä¸»çš„å°è¯è¯­è°ƒç¡®å®žä¸æ€Žä¹ˆæ ·ä¹‹å¤–ï¼Œæ€»çš„æ¥è¯´ï¼Œå‰§æƒ…è¿˜æ˜¯å¾ˆçœŸå®žçš„ï¼Œå‹æƒ…ã€çˆ±æƒ…è¿˜æœ‰ä¸€ç‚¹ç‚¹å¸ˆç”Ÿæƒ…ï¼Œæƒ³æƒ³è‡ªå·±ç¦»å¼€é«˜ä¸­å·²ç»å››å¹´äº†ï¼Œå¦‚ä»Šå¤§å­¦æ¯•ä¸šã€‚ä½†æ˜¯çœ‹åˆ°é‚£äº›å‰§æƒ…ï¼Œä»¥å‰ç»åŽ†è¿‡çš„äº‹è¿˜æ˜¯åŽ†åŽ†åœ¨ç›®ï¼Œæ‰“çƒåƒé¥­ä¸Šè¯¾çŽ©æ¸¸æˆâ€¦æç„¶è‹¥æ¢¦ã€‚ æ¯ä¸ªç­éƒ½æœ‰ä¸ªèƒ–å­ï¼Œæœ‰ä¸ªç˜¦å­ï¼Œæœ‰å¨˜å¨˜è…”ï¼Œæœ‰å¥³æ±‰å­ï¼Œæœ‰å­¦éœ¸ï¼Œæœ‰å­¦æ¸£ï¼Œæœ‰å°æƒ…ä¾£ï¼Œæœ‰æš—æ‹åˆ«äººçš„ï¼Œæœ‰æ··å­ï¼Œæœ‰è®¨åŽŒæ¯ä¸€ä¸ªè€å¸ˆçš„ï¼Œæœ‰æ€Žä¹ˆå­¦éƒ½å­¦ä¸å¥½çš„å­¦å¼±â€¦â€¦]]></content>
      <categories>
        <category>è®°äº‹ç°¿</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å†è§ï¼ŒRNG]]></title>
    <url>%2F20181021%2Frng%2F</url>
    <content type="text"><![CDATA[æˆ‘äºŽæ€æˆ®ä¹‹ä¸­ç››æ”¾ï¼Œäº¦å¦‚é»Žæ˜Žä¸­çš„èŠ±æœµã€‚ â€“æˆå‘½å¸ˆä»Šå¤©EDGçš„æ¯”èµ›æˆ‘æ²¡æœ‰çœ‹ï¼Œå› ä¸ºä¸æƒ³å†èŠ±æ—¶é—´åœ¨æ²¡æœ‰å¤ªå¤šæ„ä¹‰çš„äº‹æƒ…ä¸Šã€‚ æˆ–è®¸å¾ˆå¤šäººéƒ½å’Œæˆ‘ä¸€æ ·ï¼Œåœ¨å„ç§å“€å…¶ä¸äº‰çš„æ„¤æ‡‘ä¸‹ï¼Œæ¸æ¸çš„å¤±åŽ»äº†è€å¿ƒã€‚ä»ŽåŽ»å¹´å››è¿›äºŒ2ï¼š3ä¸æ•ŒSKTï¼Œåˆ°ä»Šå¹´æ‹¿ä¸‹é™¤äº†Sèµ›çš„æ‰€æœ‰å† å†›ï¼Œå¤§å®¶éƒ½ä»¥ä¸ºè¦å¤§æ»¡è´¯çš„æ—¶å€™ï¼Œçªç„¶çˆ†å†·å‡ºå±€ï¼Œä»¤äººå¿ƒå¯’ã€‚æ‰€ä»¥æˆ‘æ‰“ç®—ä¸å†åŽ»æœŸå¾…äº†ã€‚ é¢å‘äººç¾¤ï¼Œä¸ºä»–ä»¬æ³£è¡€å“€é¸£ã€‚ æˆ‘çš„é¢å®¹ï¼Œå°±å’Œæ€ä½ çš„äººä¸€æ ·ã€‚ å‡­ç€æˆ‘çš„æŠ€æœ¯ï¼Œæ€æˆ®ï¼Œä¹Ÿä¼šç»½æ”¾ä¸ºè‰ºæœ¯ã€‚ ä½ â€¦å¯å‘äº†æˆ‘ï¼ ä½ å°†çŸ¥æ™“çœŸæ­£çš„ç¾Žã€‚ ç¬‘ä¸€ä¸ªå§ï¼Œå¤§å®¶éƒ½åœ¨çœ‹ç€å‘¢ã€‚ æˆä¸ºæˆ‘çš„ä½œå“ï¼Œä½ å°†å¾—ä»¥è¶…è„±ã€‚ æ­¤åˆ»ï¼Œå¤§ç¾Žå°†ä¸´ã€‚]]></content>
      <categories>
        <category>è®°äº‹ç°¿</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[egretå…¥é—¨ï¼Œè¿™ä¸€ç¯‡åº”è¯¥å¤Ÿäº†]]></title>
    <url>%2F20180802%2Fegretlearn%2F</url>
    <content type="text"><![CDATA[ä¸‹è½½å®‰è£…ï¼š1ã€EgretLauncherä¼ é€é—¨ï¼šhttps://egret.com/downloads/engine.html ä¸‹è½½å®ŒæˆæŒ‰ç…§è¦æ±‚ä¸€æ­¥æ­¥å®‰è£…å°±å¯ä»¥äº†ã€‚ å¼•æ“Žç®¡ç†å·¥å…·ï¼ŒåŒ…æ‹¬ç‰ˆæœ¬ç®¡ç†ï¼Œé¡¹ç›®æ‰“åŒ…ï¼Œé¡¹ç›®åˆ›å»ºï¼Œå…¶ä»–å·¥å…·ä¸‹è½½å®‰è£…ç­‰ã€‚ 2ã€Egret Wingæ‰“å¼€EgretLauncherå¼•æ“Žç®¡ç†å·¥å…·ï¼Œä¸‹è½½å®‰è£…egret wingï¼Œï¼ˆè¿™é‡Œéœ€è¦è´¦å·å¯†ç ç™»å½•ï¼Œå¦‚æžœæ²¡æœ‰å°±åŽ»æ³¨å†Œä¸€ä¸ªå§ï¼ egret wingæ”¯æŒå¯è§†åŒ–åˆ›å»ºã€ç¼–è¾‘å’Œç®¡ç†é¡¹ç›® EUIï¼Œä»¥åŠ TS ä»£ç ç¼–å†™å’Œæ–­ç‚¹è°ƒè¯•ã€‚ 3ã€æ›´å¤šå·¥å…·egretçš„å·¥å…·éžå¸¸å¤šï¼Œä¸Šè¿°å®‰è£…çš„wingæ˜¯æœ€ä¸»è¦çš„å¼€å‘å·¥å…·ï¼Œå…¶ä½™çš„å®‰è£…æ–¹æ³•ä¹Ÿå·®ä¸å¤šï¼Œç®€å•ç”¨æ³•ä»‹ç»å¯ä»¥å‚è€ƒå®˜ç½‘çš„ä»‹ç»ï¼Œè¿™é‡Œä¸èµ˜è¿°ã€‚ ä¼ é€é—¨ï¼šhttps://www.egret.com/products/ é¡¹ç›®åˆ›å»º1ã€é¡¹ç›®ç±»åž‹æ‰“å¼€EgretLauncherï¼Œé€‰ä¸­é¡¹ç›®ï¼Œç‚¹å‡»åˆ›å»ºé¡¹ç›®ï¼š åˆ›å»ºé¡¹ç›®æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œæ¸¸æˆé¡¹ç›®å’ŒEUIé¡¹ç›®ï¼Œä¸»è¦æ˜¯å‹¾é€‰çš„æ‹“å±•åº“ä¸åŒï¼Œå»ºè®®åˆ›å»ºæ—¶ä¸ç®¡æ˜¯å“ªç§ï¼Œéƒ½å°†eui å’Œgameä¸¤ä¸ªåº“éƒ½å‹¾é€‰ä¸Šã€‚ é™¤äº†é»˜è®¤å‹¾é€‰çš„ï¼Œå…¶ä»–æŒ‰éœ€æ±‚å‹¾é€‰ã€‚ èˆžå°å°ºå¯¸ä¸€èˆ¬æŒ‰ç…§ç¾Žæœ¯å‡ºå›¾è®¾ç½®ã€‚ 2ã€ç¼©æ”¾æ¨¡å¼æœ‰å¾ˆå¤šç§ï¼Œå…·ä½“ä»‹ç»å¯ä»¥çœ‹å®˜ç½‘ä»‹ç»ï¼Œå¯ä»¥è¯´éžå¸¸è¯¦ç»†äº† ä¼ é€é—¨ http://developer.egret.com/cn/github/egret-docs/Engine2D/screenAdaptation/zoomMode/index.html æ—‹è½¬æ–¹å¼ä¸€èˆ¬å°±æ¨ªå±ç«–å±æˆ–è€…è‡ªåŠ¨æ¨¡å¼ï¼Œæœ€åŽåˆ›å»ºé¡¹ç›®ã€‚ ç›®å½•ç»“æž„æ‰“å¼€åˆ›å»ºçš„é¡¹ç›®ï¼š .wingæ–‡ä»¶å¤¹ å­˜æ”¾ä½¿ç”¨wingæ‰“å¼€çš„é…ç½®æ–‡ä»¶ bin-debugæ–‡ä»¶å¤¹ å­˜æ”¾è°ƒè¯•æ—¶å°†tsè½¬ä¸ºjsæ–‡ä»¶ bin-releaseæ–‡ä»¶å¤¹ å­˜æ”¾æ‰“åŒ…è¾“å‡ºæ–‡ä»¶(æ‰“åŒ…åŽæ‰ä¼šå‡ºçŽ°) libsæ–‡ä»¶å¤¹ å­˜æ”¾å¼•æ“Žæºç ä»¥åŠä¸‰æ–¹åº“æ–‡ä»¶ resourcesæ–‡ä»¶å¤¹ å­˜æ”¾èµ„æºæ–‡ä»¶åŒ…æ‹¬å›¾ç‰‡ã€jsonã€åŠ¨ç”»ã€exmlç­‰æ–‡ä»¶ scriptsæ–‡ä»¶å¤¹ å­˜æ”¾ä¸€äº›é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚android ios wxgameçš„é…ç½®è„šæœ¬æ–‡ä»¶ srcæ–‡ä»¶å¤¹ å­˜æ”¾å¼€å‘æºç  templateæ–‡ä»¶å¤¹ å­˜æ”¾æ¨¡æ¿æ–‡ä»¶ egretProperties.jsonæ–‡ä»¶ ä¸‰æ–¹åº“çš„é…ç½®æ–‡ä»¶ å…¶ä»–çš„å¯ä»¥ä¸ç”¨ç®¡äº†ï¼Œå¦‚æžœè¿˜éœ€è¦è¯¦ç»†äº†è§£çš„ï¼š ä¼ é€é—¨ï¼šhttp://developer.egret.com/cn/github/egret-docs/Engine2D/getStarted/helloWorld/index.html é¡¹ç›®å…¥å£æ‰“å¼€é¡¹ç›®è¿›å…¥srcæ–‡ä»¶ç›®å½• ä»¥ä¸‹æ˜¯æˆ‘ä¿®æ”¹æ·»åŠ æ³¨é‡ŠåŽçš„æºç ï¼ˆMain.tsï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107class Main extends eui.UILayer &#123; protected createChildren(): void &#123; super.createChildren(); egret.lifecycle.addLifecycleListener((context) =&gt; &#123; // custom lifecycle plugin &#125;) //inject the custom material parser //æ³¨å…¥è‡ªå®šä¹‰çš„ç´ æè§£æžå™¨ let assetAdapter = new AssetAdapter(); egret.registerImplementation("eui.IAssetAdapter", assetAdapter); egret.registerImplementation("eui.IThemeAdapter", new ThemeAdapter()); this.runGame().catch(e =&gt; &#123; console.log(e); &#125;) &#125; private async runGame() &#123; await this.loadResource() //this.createGameScene(); const result = await RES.getResAsync("description_json") const gameui:GameUi = new GameUi(); this.stage.addChild(gameui) &#125; //èµ„æºåŠ è½½å‡½æ•°ï¼Œ private async loadResource() &#123; try &#123; //åŠ è½½é¡µé¢æ·»åŠ åˆ°èˆžå° const loadingView = new LoadingUI(); this.stage.addChild(loadingView); //åŠ è½½é»˜è®¤èµ„æºï¼Œjsonæ–‡ä»¶ï¼Œé‡Œé¢è®°å½•ç€æ‰€æœ‰çš„å›¾ç‰‡æ•°æ® await RES.loadConfig("resource/default.res.json", "resource/"); //åŠ è½½çš®è‚¤æ–‡ä»¶ await this.loadTheme(); //åŠ è½½èµ„æºç»„ await RES.loadGroup("preload", 0, loadingView); //åŠ è½½å®ŒæˆåŽå°†åŠ è½½é¡µé¢ä»Žèˆžå°ç§»é™¤ this.stage.removeChild(loadingView); console.log('èµ„æºåŠ è½½å®Œæˆ') &#125; catch (e) &#123; console.error(e); &#125; &#125; private loadTheme() &#123; return new Promise((resolve, reject) =&gt; &#123; //åŠ è½½çš®è‚¤ä¸»é¢˜é…ç½®æ–‡ä»¶,å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ã€‚æ›¿æ¢é»˜è®¤çš®è‚¤ã€‚ let theme = new eui.Theme("resource/default.thm.json", this.stage); theme.addEventListener(eui.UIEvent.COMPLETE, () =&gt; &#123; resolve(); &#125;, this); &#125;) &#125; private textfield: egret.TextField; /** * åˆ›å»ºæ¸¸æˆåœºæ™¯ * Create a game scene */ private createGameScene() &#123; let sky = this.createBitmapByName("dabg@3x_png"); this.addChild(sky); let stageW = this.stage.stageWidth; let stageH = this.stage.stageHeight; sky.width = stageW; sky.height = stageH; &#125; /** * æ ¹æ®nameå…³é”®å­—åˆ›å»ºä¸€ä¸ªBitmapå¯¹è±¡ã€‚nameå±žæ€§è¯·å‚è€ƒresources/resource.jsoné…ç½®æ–‡ä»¶çš„å†…å®¹ã€‚ * Create a Bitmap object according to name keyword.As for the property of name please refer to the configuration file of resources/resource.json. */ private createBitmapByName(name: string) &#123; let result = new egret.Bitmap(); let texture: egret.Texture = RES.getRes(name); result.texture = texture; return result; &#125; /** * æè¿°æ–‡ä»¶åŠ è½½æˆåŠŸï¼Œå¼€å§‹æ’­æ”¾åŠ¨ç”» * Description file loading is successful, start to play the animation */ private startAnimation(result: string[]) &#123; let parser = new egret.HtmlTextParser(); let textflowArr = result.map(text =&gt; parser.parse(text)); let textfield = this.textfield; let count = -1; let change = () =&gt; &#123; count++; if (count &gt;= textflowArr.length) &#123; count = 0; &#125; let textFlow = textflowArr[count]; // åˆ‡æ¢æè¿°å†…å®¹ // Switch to described content textfield.textFlow = textFlow; let tw = egret.Tween.get(textfield); tw.to(&#123; "alpha": 1 &#125;, 200); tw.wait(2000); tw.to(&#123; "alpha": 0 &#125;, 200); tw.call(change, this); &#125;; change(); &#125;&#125; èµ„æºé€‚é…å™¨ï¼ˆAssetAdapter .tsï¼‰ 1234567891011121314151617181920212223242526class AssetAdapter implements eui.IAssetAdapter &#123; /** * @language zh_CN * è§£æžç´ æ * @param source å¾…è§£æžçš„æ–°ç´ ææ ‡è¯†ç¬¦ * @param compFunc è§£æžå®Œæˆå›žè°ƒå‡½æ•°ï¼Œç¤ºä¾‹ï¼šcallBack(content:any,source:string):void; * @param thisObject callBackçš„ this å¼•ç”¨ */ public getAsset(source: string, compFunc:Function, thisObject: any): void &#123; function onGetRes(data: any): void &#123; compFunc.call(thisObject, data, source); &#125; if (RES.hasRes(source)) &#123; let data = RES.getRes(source); if (data) &#123; onGetRes(data); &#125; else &#123; RES.getResAsync(source, onGetRes, this); &#125; &#125; else &#123; RES.getResByUrl(source, onGetRes, this, RES.ResourceItem.TYPE_IMAGE); &#125; &#125;&#125; ä¸»é¢˜é€‚é…å™¨ï¼ˆThemeAdapter.tsï¼‰ 12345678910111213141516171819202122232425262728293031323334class ThemeAdapter implements eui.IThemeAdapter &#123; /** * è§£æžä¸»é¢˜ * @param url å¾…è§£æžçš„ä¸»é¢˜url * @param onSuccess è§£æžå®Œæˆå›žè°ƒå‡½æ•°ï¼Œç¤ºä¾‹ï¼šcompFunc(e:egret.Event):void; * @param onError è§£æžå¤±è´¥å›žè°ƒå‡½æ•°ï¼Œç¤ºä¾‹ï¼šerrorFunc():void; * @param thisObject å›žè°ƒçš„thiså¼•ç”¨ */ public getTheme(url: string, onSuccess: Function, onError: Function, thisObject: any): void &#123; function onResGet(e: string): void &#123; onSuccess.call(thisObject, e); &#125; function onResError(e: RES.ResourceEvent): void &#123; if (e.resItem.url == url) &#123; RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, onResError, null); onError.call(thisObject); &#125; &#125; if (typeof generateEUI !== 'undefined') &#123; egret.callLater(() =&gt; &#123; onSuccess.call(thisObject, generateEUI); &#125;, this); &#125; else &#123; RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, onResError, null); RES.getResByUrl(url, onResGet, this, RES.ResourceItem.TYPE_TEXT); &#125; &#125;&#125;declare var generateEUI: &#123; paths: string[], skins: any &#125; å…³äºŽjsçš„å¼‚æ­¥ï¼Œä¾ç„¶ä½¿ç”¨äº†es7çš„asyncä¸Žawaitï¼Œç”¨æ³•è‡ªè¡Œè„‘è¡¥ å…³äºŽä¸‰æ–¹åº“å¼•å…¥æ‰“å¼€egretProperties.json æŒ‰ç…§å·²æœ‰çš„æ ¼å¼ä»¥ç›¸åŒçš„å†™æ³•å°†ä½ çš„ä¸‰æ–¹åº“è·¯å¾„æ·»åŠ ä¸ŠåŽ»ï¼Œç„¶åŽåœ¨ç»ˆç«¯æ‰§è¡Œegret build -eå‘½ä»¤ ä»¥å¼•å…¥socket.ioä¸ºä¾‹ï¼š å¼€å‘æ ¹ç›®å½•ï¼šD:\dev\live-psz socket.ioç›®å½•ï¼šD:\dev\socket-libsrc 1234&#123; "name": "socket.io", "path": "../socket-libsrc/bin/socket.io"&#125; å…³äºŽexmlä¸»é¢˜UIå¸ƒå±€åœ¨resourceç›®å½•ä¸‹æ–°å»ºeui_skinsæ–‡ä»¶å¤¹ï¼Œåœ¨ä¸‹é¢æ–°å»º**.exmlæ–‡ä»¶ï¼Œç„¶åŽè¿›è¡Œå¸ƒå±€ï¼Œ åœ¨default.thm.jsonç¡®ä¿å¼•å…¥ 12345678910111213&#123; "skins": &#123;&#125;, "autoGenerateExmlsList": true, "exmls": [ "resource/eui_skins/Animation.exml", "resource/eui_skins/AniShowCName.exml", "resource/eui_skins/GameUi.exml", "resource/eui_skins/RoleDetailUi.exml", "resource/eui_skins/RoleUi.exml", "resource/eui_skins/test.exml" ], "path": "resource/default.thm.json"&#125; åœ¨srcä¸‹é¢æ–°å»ºå¯¹åº”çš„tsæ–‡ä»¶ 1class GameUi extends eui.Component 1234constructor() &#123; super(); this.skinName = "resource/eui_skins/GameUi.exml";&#125; å¦‚æžœåœ¨å¸ƒå±€é‡Œé¢å‘½åäº†ç›¸å¯¹åº”çš„Idï¼Œé‚£ä¹ˆ 12public gold_group_btn :eui.Group;public roleContainer: eui.Group; å¦‚ä½•å¼•ç”¨ 12const gameui:GameUi = new GameUi();this.stage.addChild(gameui) æœ€åŽå…¶ä»–æ¶‰åŠåˆ°çš„APIå¯ä»¥æŸ¥çœ‹å®˜ç½‘æ–‡æ¡£ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæœ›æ–§æ­£ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œè¯·ç•™è¨€ï¼Œæˆ‘ä¼šåŠæ—¶å›žå¤ã€‚]]></content>
      <categories>
        <category>æŠ€æœ¯æ ˆ</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[layaæ ¸å¿ƒAPIäº”åˆ†é’Ÿé€Ÿè®°]]></title>
    <url>%2F20180721%2Flaya-api%2F</url>
    <content type="text"><![CDATA[Node(èŠ‚ç‚¹)æ“ä½œå¤§éƒ¨åˆ†çš„laya UIç»„ä»¶éƒ½å¯ä»¥çœ‹åšèŠ‚ç‚¹ï¼Œå¯ä»¥çœ‹åšwebå¼€å‘ä¸­ï¼Œä½¿ç”¨JavaScriptå¯¹htmlèŠ‚ç‚¹è¿›è¡Œæ“ä½œã€‚æ·»åŠ èŠ‚ç‚¹æ ¸å¿ƒæ–¹æ³•ï¼š 1234567891011121314151617181920212223/** * æ·»åŠ å­èŠ‚ç‚¹ã€‚ * @param node èŠ‚ç‚¹å¯¹è±¡ * @return è¿”å›žæ·»åŠ çš„èŠ‚ç‚¹ */addChild(node: Node): Node;/** * æ‰¹é‡å¢žåŠ å­èŠ‚ç‚¹ * @param ...args æ— æ•°å­èŠ‚ç‚¹ã€‚ */addChildren(...args: any[]): void;/** * æ·»åŠ å­èŠ‚ç‚¹åˆ°æŒ‡å®šçš„ç´¢å¼•ä½ç½®ã€‚ * @param node èŠ‚ç‚¹å¯¹è±¡ã€‚ * @param index ç´¢å¼•ä½ç½®ã€‚ * @return è¿”å›žæ·»åŠ çš„èŠ‚ç‚¹ã€‚ */addChildAt(node: Node, index: number): Node;/** * æ ¹æ®å­èŠ‚ç‚¹å¯¹è±¡ï¼ŒèŽ·å–å­èŠ‚ç‚¹çš„ç´¢å¼•ä½ç½®ã€‚ * @param node å­èŠ‚ç‚¹ã€‚ * @return å­èŠ‚ç‚¹æ‰€åœ¨çš„ç´¢å¼•ä½ç½®ã€‚ */ æ³¨æ„ï¼šæ·»åŠ èŠ‚ç‚¹æ—¶å€™ï¼Œè¶ŠåŽæ·»åŠ çš„å±‚çº§è¶Šé«˜ï¼Œå¯ä»¥è®¾ç½®zOrderå±žæ€§è°ƒæ•´å¯¹è±¡å±‚çº§ã€‚ é”€æ¯ã€åˆ é™¤èŠ‚ç‚¹æ ¸å¿ƒæ–¹æ³•ï¼š 123456789101112131415161718192021222324252627282930/** * åˆ é™¤å­èŠ‚ç‚¹ã€‚ * @param node å­èŠ‚ç‚¹ * @return è¢«åˆ é™¤çš„èŠ‚ç‚¹ */removeChild(node: Node): Node;/** * ä»Žçˆ¶å®¹å™¨åˆ é™¤è‡ªå·±ï¼Œå¦‚å·²ç»è¢«åˆ é™¤ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ * @return å½“å‰èŠ‚ç‚¹ï¼ˆ Node ï¼‰å¯¹è±¡ã€‚ */removeSelf(): Node;/** * æ ¹æ®å­èŠ‚ç‚¹åå­—åˆ é™¤å¯¹åº”çš„å­èŠ‚ç‚¹å¯¹è±¡ï¼Œå¦‚æžœæ‰¾ä¸åˆ°ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ * @param name å¯¹è±¡åå­—ã€‚ * @return æŸ¥æ‰¾åˆ°çš„èŠ‚ç‚¹ï¼ˆ Node ï¼‰å¯¹è±¡ã€‚ */removeChildByName(name: string): Node;/** * æ ¹æ®å­èŠ‚ç‚¹ç´¢å¼•ä½ç½®ï¼Œåˆ é™¤å¯¹åº”çš„å­èŠ‚ç‚¹å¯¹è±¡ã€‚ * @param index èŠ‚ç‚¹ç´¢å¼•ä½ç½®ã€‚ * @return è¢«åˆ é™¤çš„èŠ‚ç‚¹ã€‚ */removeChildAt(index: number): Node;/** * åˆ é™¤æŒ‡å®šç´¢å¼•åŒºé—´çš„æ‰€æœ‰å­å¯¹è±¡ã€‚ * @param beginIndex å¼€å§‹ç´¢å¼•ã€‚ * @param endIndex ç»“æŸç´¢å¼•ã€‚ * @return å½“å‰èŠ‚ç‚¹å¯¹è±¡ã€‚ */removeChildren(beginIndex?: number, endIndex?: number): Node; 12345678910/** * &lt;p&gt;é”€æ¯æ­¤å¯¹è±¡ã€‚destroyå¯¹è±¡é»˜è®¤ä¼šæŠŠè‡ªå·±ä»Žçˆ¶èŠ‚ç‚¹ç§»é™¤ï¼Œå¹¶ä¸”æ¸…ç†è‡ªèº«å¼•ç”¨å…³ç³»ï¼Œç­‰å¾…jsè‡ªåŠ¨åžƒåœ¾å›žæ”¶æœºåˆ¶å›žæ”¶ã€‚destroyåŽä¸èƒ½å†ä½¿ç”¨ã€‚&lt;/p&gt; * &lt;p&gt;destroyæ—¶ä¼šç§»é™¤è‡ªèº«çš„äº‹æƒ…ç›‘å¬ï¼Œè‡ªèº«çš„timerç›‘å¬ï¼Œç§»é™¤å­å¯¹è±¡åŠä»Žçˆ¶èŠ‚ç‚¹ç§»é™¤è‡ªå·±ã€‚&lt;/p&gt; * @param destroyChild ï¼ˆå¯é€‰ï¼‰æ˜¯å¦åŒæ—¶é”€æ¯å­èŠ‚ç‚¹ï¼Œè‹¥å€¼ä¸ºtrue,åˆ™é”€æ¯å­èŠ‚ç‚¹ï¼Œå¦åˆ™ä¸é”€æ¯å­èŠ‚ç‚¹ã€‚ */destroy(destroyChild?: boolean): void;/** * é”€æ¯æ‰€æœ‰å­å¯¹è±¡ï¼Œä¸é”€æ¯è‡ªå·±æœ¬èº«ã€‚ */destroyChildren(): void; æ³¨æ„ï¼šå¦‚æžœå°†èŠ‚ç‚¹é”€æ¯ï¼Œåˆ™ä¸èƒ½å†ä½¿ç”¨ï¼Œä½†åˆ é™¤ä¹‹åŽçš„èŠ‚ç‚¹ä¾æ—§å¯ä»¥ä½¿ç”¨ã€‚ èŽ·å–èŠ‚ç‚¹æ ¸å¿ƒæ–¹æ³•ï¼š 123456789101112/** * æ ¹æ®å­èŠ‚ç‚¹å¯¹è±¡ï¼ŒèŽ·å–å­èŠ‚ç‚¹çš„ç´¢å¼•ä½ç½®ã€‚ * @param node å­èŠ‚ç‚¹ã€‚ * @return å­èŠ‚ç‚¹æ‰€åœ¨çš„ç´¢å¼•ä½ç½®ã€‚ */getChildIndex(node: Node): number;/** * æ ¹æ®å­èŠ‚ç‚¹çš„åå­—ï¼ŒèŽ·å–å­èŠ‚ç‚¹å¯¹è±¡ã€‚ * @param name å­èŠ‚ç‚¹çš„åå­—ã€‚ * @return èŠ‚ç‚¹å¯¹è±¡ã€‚ */getChildByName(name: string): Node; æ³¨æ„ï¼šgetChildByNameæ–¹æ³•ä¼ å…¥çš„nameï¼Œæ˜¯åœ¨åˆ›å»ºçš„æ—¶å€™ä¸ºèŠ‚ç‚¹è®¾ç½®çš„nameï¼Œå¹¶ä¸”åªèƒ½èŽ·å–ä¸‹ä¸€çº§çš„å­©å­èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯æ‰€æœ‰å±žäºŽå½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚ äº‹ä»¶äº‹ä»¶ç±»åž‹éžå¸¸å¤šï¼Œå¸¸ç”¨çš„æœ‰ï¼š 12345678910111213141516/** å®šä¹‰ mousedown äº‹ä»¶å¯¹è±¡çš„ type å±žæ€§å€¼ã€‚*/static MOUSE_DOWN: string;/** å®šä¹‰ mouseup äº‹ä»¶å¯¹è±¡çš„ type å±žæ€§å€¼ã€‚*/static MOUSE_UP: string;/** å®šä¹‰ click äº‹ä»¶å¯¹è±¡çš„ type å±žæ€§å€¼ã€‚*/static CLICK: string;/** å®šä¹‰ rightmousedown äº‹ä»¶å¯¹è±¡çš„ type å±žæ€§å€¼ã€‚*/static RIGHT_MOUSE_DOWN: string;/** å®šä¹‰ rightmouseup äº‹ä»¶å¯¹è±¡çš„ type å±žæ€§å€¼ã€‚*/static RIGHT_MOUSE_UP: string;/** å®šä¹‰ rightclick äº‹ä»¶å¯¹è±¡çš„ type å±žæ€§å€¼ã€‚*/static RIGHT_CLICK: string;/** å®šä¹‰ mousemove äº‹ä»¶å¯¹è±¡çš„ type å±žæ€§å€¼ã€‚*/static MOUSE_MOVE: string;/** å®šä¹‰ mouseover äº‹ä»¶å¯¹è±¡çš„ type å±žæ€§å€¼ã€‚*/static MOUSE_OVER: string; å…·ä½“å¯ä»¥æŸ¥çœ‹layaAir.d.ts laya.eventsæ¨¡å—ï¼Œå¤§æ¦‚åœ¨17316è¡Œâ€¦â€¦. äº‹ä»¶ç»‘å®šï¼š 1234567891011121314151617181920 /** * &lt;p&gt;å¢žåŠ äº‹ä»¶ä¾¦å¬å™¨ï¼Œä»¥ä½¿ä¾¦å¬å™¨èƒ½å¤ŸæŽ¥æ”¶äº‹ä»¶é€šçŸ¥ã€‚&lt;/p&gt; * &lt;p&gt;å¦‚æžœä¾¦å¬é¼ æ ‡äº‹ä»¶ï¼Œåˆ™ä¼šè‡ªåŠ¨è®¾ç½®è‡ªå·±å’Œçˆ¶äº²èŠ‚ç‚¹çš„å±žæ€§ mouseEnabled çš„å€¼ä¸º true(å¦‚æžœçˆ¶èŠ‚ç‚¹mouseEnabled=falseï¼Œåˆ™åœæ­¢è®¾ç½®çˆ¶èŠ‚ç‚¹mouseEnabledå±žæ€§)ã€‚&lt;/p&gt; * @param type äº‹ä»¶çš„ç±»åž‹ã€‚ * @param caller äº‹ä»¶ä¾¦å¬å‡½æ•°çš„æ‰§è¡ŒåŸŸã€‚ * @param listener äº‹ä»¶ä¾¦å¬å‡½æ•°ã€‚ * @param args ï¼ˆå¯é€‰ï¼‰äº‹ä»¶ä¾¦å¬å‡½æ•°çš„å›žè°ƒå‚æ•°ã€‚ * @return æ­¤ EventDispatcher å¯¹è±¡ã€‚ */on(type: string, caller: any, listener: Function, args?: Array&lt;any&gt;): EventDispatcher;/** * &lt;p&gt;å¢žåŠ äº‹ä»¶ä¾¦å¬å™¨ï¼Œä»¥ä½¿ä¾¦å¬å™¨èƒ½å¤ŸæŽ¥æ”¶äº‹ä»¶é€šçŸ¥ï¼Œæ­¤ä¾¦å¬äº‹ä»¶å“åº”ä¸€æ¬¡åŽåˆ™è‡ªåŠ¨ç§»é™¤ä¾¦å¬ã€‚&lt;/p&gt; * &lt;p&gt;å¦‚æžœä¾¦å¬é¼ æ ‡äº‹ä»¶ï¼Œåˆ™ä¼šè‡ªåŠ¨è®¾ç½®è‡ªå·±å’Œçˆ¶äº²èŠ‚ç‚¹çš„å±žæ€§ mouseEnabled çš„å€¼ä¸º true(å¦‚æžœçˆ¶èŠ‚ç‚¹mouseEnabled=falseï¼Œåˆ™åœæ­¢è®¾ç½®çˆ¶èŠ‚ç‚¹mouseEnabledå±žæ€§)ã€‚&lt;/p&gt; * @param type äº‹ä»¶çš„ç±»åž‹ã€‚ * @param caller äº‹ä»¶ä¾¦å¬å‡½æ•°çš„æ‰§è¡ŒåŸŸã€‚ * @param listener äº‹ä»¶ä¾¦å¬å‡½æ•°ã€‚ * @param args ï¼ˆå¯é€‰ï¼‰äº‹ä»¶ä¾¦å¬å‡½æ•°çš„å›žè°ƒå‚æ•°ã€‚ * @return æ­¤ EventDispatcher å¯¹è±¡ã€‚ */once(type: string, caller: any, listener: Function, args?: Array&lt;any&gt;): EventDispatcher; æ³¨æ„ï¼šå¤šæ¬¡ä¸ºåŒä¸€ä¸ªèŠ‚ç‚¹ä½¿ç”¨onæ–¹æ³•ä¼šå¤šæ¬¡ç»‘å®šäº‹ä»¶ï¼Œéœ€è¦äº†è§£çš„æ˜¯ï¼Œå¦‚æžœå¯¹èŠ‚ç‚¹çš„æ“ä½œä¸ä¼šæœ‰å˜åŒ–ï¼Œåˆ™ä½¿ç”¨onæ–¹æ³•ç»‘å®šä¸€æ¬¡å³å¯ï¼Œå¦‚æžœæ ¹æ®çŠ¶æ€æ¡ä»¶ç­‰å› ç´ çš„ä¸åŒï¼Œåˆ™ä½¿ç”¨onceç»‘å®šã€‚ ç½‘ç»œç½‘ç»œè¯·æ±‚ä¹Ÿæ˜¯å°è£…çš„HttpRequestï¼Œæ¯”è¾ƒç®€å•ã€‚ 123456789 /** * å‘é€ HTTP è¯·æ±‚ã€‚ * @param url è¯·æ±‚çš„åœ°å€ã€‚å¤§å¤šæ•°æµè§ˆå™¨å®žæ–½äº†ä¸€ä¸ªåŒæºå®‰å…¨ç­–ç•¥ï¼Œå¹¶ä¸”è¦æ±‚è¿™ä¸ª URL ä¸ŽåŒ…å«è„šæœ¬çš„æ–‡æœ¬å…·æœ‰ç›¸åŒçš„ä¸»æœºåå’Œç«¯å£ã€‚ * @param data (default = null)å‘é€çš„æ•°æ®ã€‚ * @param method (default = "get")ç”¨äºŽè¯·æ±‚çš„ HTTP æ–¹æ³•ã€‚å€¼åŒ…æ‹¬ "get"ã€"post"ã€"head"ã€‚ * @param responseType (default = "text")Web æœåŠ¡å™¨çš„å“åº”ç±»åž‹ï¼Œå¯è®¾ç½®ä¸º "text"ã€"json"ã€"xml"ã€"arraybuffer"ã€‚ * @param headers (default = null) HTTP è¯·æ±‚çš„å¤´éƒ¨ä¿¡æ¯ã€‚å‚æ•°å½¢å¦‚key-valueæ•°ç»„ï¼škeyæ˜¯å¤´éƒ¨çš„åç§°ï¼Œä¸åº”è¯¥åŒ…æ‹¬ç©ºç™½ã€å†’å·æˆ–æ¢è¡Œï¼›valueæ˜¯å¤´éƒ¨çš„å€¼ï¼Œä¸åº”è¯¥åŒ…æ‹¬æ¢è¡Œã€‚æ¯”å¦‚["Content-Type", "application/json"]ã€‚ */send(url: string, data?: any, method?: string, responseType?: string, headers?: Array&lt;any&gt;): void; ä¸€ä¸ªç®€å•çš„è¯·æ±‚ç½‘ç»œæ•°æ®ç¤ºä¾‹ï¼š 12345678910111213141516171819202122getList(page,size,url)&#123; let http = new Laya.HttpRequest(); http.send(`$&#123;this.gd.host&#125;$&#123;url&#125;?userId=$&#123;this.gd.user.id&#125;&amp;page=$&#123;page&#125;&amp;size=$&#123;size&#125;`, 'GET'); http.timeout = 1000; return new Promise((resolve, reject) =&gt; &#123; http.once(Laya.Event.COMPLETE, this, (resp) =&gt; &#123; resp = JSON.parse(resp); if (resp.meta.code === 200) &#123; if (resp.data !== null) &#123; resolve(resp.data) &#125; else &#123; resolve(resp.data); &#125; &#125; else &#123; console.log('æœåŠ¡å™¨é”™è¯¯'); &#125; &#125;); http.once(Laya.Event.ERROR, this, (resp) =&gt; &#123; resolve(resp.data); &#125;); &#125;) &#125; 1let data = await EventUtils.getInstance().getList(this.currentPage, this.size,'/norain/pre/rank/time');//è¯·æ±‚åŠ è½½æ•°æ® åŠ¨ç”»ç¼“åŠ¨åŠ¨ç”» ç¼“åŠ¨ç±»åž‹è§£é‡Šä¼ é€é—¨ï¼šhttps://layaair.ldc.layabox.com/api/?category=Core&amp;class=laya.utils.Ease ç¼“åŠ¨åŠ¨ç”»æ¼”ç¤ºä¼ é€é—¨ï¼šhttps://layaair.ldc.layabox.com/demo/?category=2d&amp;group=Tween&amp;name=EaseFunctionsDemo]]></content>
      <categories>
        <category>æŠ€æœ¯æ ˆ</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[layaå…¥é—¨ï¼Œè¿™ä¸€ç¯‡åº”è¯¥å¤Ÿäº†]]></title>
    <url>%2F20180712%2Flaya%2F</url>
    <content type="text"><![CDATA[ç®€è¿°LayaAir æ˜¯åŸºäºŽHTML5å¼€æºå¼•æ“Žï¼Œæ‰€å¼€å‘çš„æ¸¸æˆæ—¢å¯ä»¥ç½‘é¡µè¿è¡Œï¼Œä¹Ÿå¯ä»¥æ‰“åŒ…Android &amp; ios appè¿è¡Œï¼Œç›®å‰æ›´åˆ°1.7.19.1 betaç‰ˆæœ¬ï¼Œæœ¬æ¬¡ä½¿ç”¨1.7.18ç¨³å®šç‰ˆã€‚ æœ¬æ–‡ä»‹ç»layaçš„ä¸‹è½½å®‰è£…ï¼Œé¡¹ç›®åˆ›å»ºï¼Œç›®å½•ç»“æž„ï¼ŒçŽ¯å¢ƒé…ç½®ä¸Žes6+çš„æ”¯æŒï¼ŒåŠå…·ä½“å¼€å‘çŸ¥è¯†ï¼Œç½‘é¡µç«¯å‘å¸ƒç­‰ç­‰æ–¹é¢ã€‚ ä¸‹è½½å®‰è£…å®˜ç½‘ä¼ é€é—¨ï¼šwww.layabox.com è¿›å…¥é¦–é¡µçœ‹åˆ°å¦‚ä¸‹ä¸¤ä¸ªä¸‹è½½æŒ‰é’®ï¼š æ­¤åˆ»å°±è®©äººæœ‰ç‚¹æ‡µé€¼äº†ï¼ŒlayaAir Engineå¯ä»¥ç†è§£ä¸ºå¼•æ“Žå†…æ ¸ï¼ˆæºç ï¼‰ï¼ŒIDEå°±æ˜¯é›†æˆå¼€å‘å·¥å…·äº†ï¼Œç›´æŽ¥ä¸‹è½½IDEå°±å¥½ï¼Œå› ä¸ºä¸‹è½½ä¸‹æ¥çš„å·²ç»é›†æˆå¯¹åº”ç‰ˆæœ¬çš„æºç åŒ…äº†ï¼ˆä½ ä¼šå‘çŽ°ï¼Œæ¯ä¸€ä¸ªç‰ˆæœ¬çš„æºç éƒ½æœ‰å¯¹åº”ç‰ˆæœ¬çš„IDEã€‚æˆªæ­¢ç›®å‰æ›´åˆ°1.7.19.1 betaç‰ˆæœ¬ï¼Œä¸ºäº†ç¨³å®šè¿˜æ˜¯ä½¿ç”¨1.7.18ç‰ˆæœ¬ã€‚å¦‚ä¸‹ï¼ˆå¯¹ï¼Œä½ æ²¡çœ‹é”™ï¼Œè“è‰²é‚£ä¸ªï¼Œç‚¹â€¦ç‚¹â€¦ç‚¹å®ƒï¼š ä¸‹è½½å®Œæˆä¹‹åŽæ˜¯ä¸€ä¸ªzipåŽ‹ç¼©åŒ…ï¼Œä¸ç”¨å®‰è£…çš„ï¼Œç›´æŽ¥è§£åŽ‹åˆ°ä½ æƒ³æ”¾çš„ä½ç½®ï¼Œå®Œäº‹å„¿ä¹‹åŽå°±å¯ä»¥ä½¿ç”¨äº†ï¼š å°±æ˜¯ä»–äº†ï¼ˆ.exeæ–‡ä»¶ï¼ŒåŒå‡»å§ï¼Œçœ‹åˆ°å¦‚ä¸‹ç•Œé¢ä½ å°±å®Œæˆç¬¬ä¸€æ­¥äº†ï¼ é¡¹ç›®åˆ›å»ºä¸Žç›®å½•ç»“æž„ç‚¹å‡»æ–°å»ºé¡¹ç›®ï¼Œå¼¹å‡ºå¦‚ä¸‹æ¡†ï¼š é€‰æ‹©é»˜è®¤çš„UIç¤ºä¾‹é¡¹ç›®ï¼Œç±»åž‹é€‰æ‹©JavaScripté¡¹ç›®ï¼Œå¦‚æžœä½ ä¼šasæˆ–è€…tsä¹Ÿå¯ä»¥é€‰å®ƒï¼Œç„¶åŽç‚¹å‡»åˆ›å»ºï¼Œåˆ›å»ºå®Œæˆè¿›å…¥ä»£ç æ¨¡å¼ï¼Œç®€å•æ ‡æ³¨äº†ä¸€ä¸‹ï¼š æŽ¥ä¸‹æ¥ä»€ä¹ˆå°†è°ƒè¯•å™¨é€‰æ‹©chromeè°ƒè¯•ï¼Œç‚¹å‡»ä¸‰è§’æŒ‰é’®æˆ–è€…æŒ‰f5è¿è¡Œï¼Œä½ ä¼šçœ‹åˆ°å¦‚ä¸‹ä¸€ä¸ªå·¨ä¸‘çš„é¡µé¢å¼¹å‡ºæ¥emmmmï¼ˆçœŸçš„å¾ˆä¸‘ï¼Œä½†æ˜¯åªè¦æ­£å¸¸çœ‹åˆ°ï¼Œè¿™ä¸€æ­¥å°±ç®—å®Œæˆäº†ï¼‰ã€‚ æŽ¥ä¸‹æ¥æ˜¯ç›®å½•ç»“æž„ï¼Œä¼ é€é—¨ï¼šhttps://ldc.layabox.com/doc/?nav=zh-js-1-0-0ï¼Œä¸è¿‡è¿™ä¸ªé‡Œé¢è¯´çš„hinå¤šhinæ‚ï¼Œåœ¨è¿™é‡Œç®€å•è¯´é‡ç‚¹ï¼š é¡¹ç›®è¿è¡Œé…ç½®æ–‡ä»¶ï¼ˆ.layaæ–‡ä»¶å¤¹ï¼‰ã€‚ launch.jsonï¼Œå½“ä½ å°†é¡¹ç›®ç§»åŠ¨æˆ–æ‹·è´åˆ°åˆ«å¤„çš„æ—¶å€™éœ€è¦ä¿®æ”¹ï¼Œä»€ä¹ˆè·¯å¾„ç»Ÿç»Ÿè¦æ”¹ã€‚ å¦‚æžœä½ ç”¨chromeè¿è¡Œé¡¹ç›®ï¼Œä¼šæœ‰ä¸€ä¸ªchromeæ–‡ä»¶å¤¹ï¼Œä¸ç”¨ç®¡ä»–ï¼Œåžƒåœ¾ä¸œè¥¿ã€‚ é¡¹ç›®çš„è¾“å‡ºç›®å½•ï¼ˆbinæ–‡ä»¶å¤¹ï¼‰ã€‚é¡¹ç›®ç¼–è¯‘åŽçš„ä¸œè¥¿éƒ½åœ¨é‡Œé¢ï¼Œä»€ä¹ˆåŠ¨ç”»ï¼Œå›¾é›†ï¼Œä½ çš„æºç ç­‰ç­‰ï¼Œæœ€åŽé¡¹ç›®å‘å¸ƒä¹Ÿæ˜¯ä»Žè¿™ä¸ªç›®å½•å‘å¸ƒ libï¼Œå…¨æ˜¯å¼•æ“Žçš„æºç åŒ…ï¼Œä¸ç”¨çš„å¯ä»¥åˆ é™¤ resï¼Œèµ„æºæ–‡ä»¶ï¼Œå›¾ç‰‡å›¾é›†ï¼ŒéŸ³é¢‘æ–‡ä»¶éƒ½å¯ä»¥åœ¨é‡Œé¢ index.htmlï¼Œç‚¹è¿›åŽ»çœ‹çœ‹ï¼Œé‡Œé¢è¯´çš„å¾ˆæ¸…æ¥šäº† UIé¡¹ç›®ç›®å½•ï¼ˆlayaï¼‰ã€‚å…¶å®žè¿™äº›éƒ½çœ‹è‡ªå·±çš„å–œå¥½ï¼Œæ²¡æœ‰è§„å®šçš„è¯ï¼Œåªè¦åˆç†çˆ±å’‹å’‹åœ°å§ã€‚ laya/assetsç›®å½•ç”¨æ¥å­˜æ”¾UIé¡µé¢ã€ç²’å­ç­‰ç»„ä»¶æ‰€éœ€çš„å›¾ç‰‡èµ„æºã€‚ laya/pagesç›®å½•ç”¨æ¥å­˜æ”¾LayaAirIDEåˆ›å»ºé¡µé¢å¸ƒå±€ç”Ÿæˆçš„æ–‡ä»¶ã€‚ ä»£ç æä¾›æ–‡ä»¶ç›®å½•ï¼ˆlibsï¼‰ï¼Œä¸ç”¨ç®¡ä»–ã€‚ é¡¹ç›®ä»£ç ç›®å½•ï¼ˆsrcï¼‰ã€‚ è¿™ä¸ªå°±æ¯”è¾ƒç‰›é€¼äº†ï¼Œå…¨æ˜¯ä½ çš„ä»£ç ï¼Œä¸è¿‡åŽé¢æˆ‘ä»¬ä¸åœ¨é‡Œé¢å¼€å‘ã€‚ ç›®å½•ç»“æž„ä¹Ÿä»‹ç»å®Œäº†ï¼Œè¿™ä¸€èŠ‚å¤§æ¦‚å°±æ˜¯è¿™äº›ï¼Œä¸‹ä¸€èŠ‚è®²è§£é…ç½®æˆ‘ä»¬çœŸæ­£çš„è€Œå¼€å‘çŽ¯å¢ƒã€‚ çŽ¯å¢ƒé…ç½®æ—¢ç„¶æ˜¯å±žäºŽh5å‰ç«¯å¼€å‘ï¼Œè‡ªç„¶è¦é…ç½®ä¸€ç³»åˆ—çš„å·¥å…·ã€‚webpackï¼Œbabelï¼Œgulpç­‰ç­‰ã€‚ï¼ˆå¦‚æžœå¤§å®¶ä¸æƒ³ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œç›´æŽ¥ç”¨é¡¹ç›®é»˜è®¤çš„å¼€å‘æ¨¡å¼ä¹Ÿå¯ä»¥ï¼Œå‰é¢ä¹Ÿè¶³å¤Ÿäº†ï¼‰ å®‰è£…Node.jsï¼ŒæŽ¨èç¨³å®šç‰ˆæœ¬8.xå§ï¼ˆä¸ä¼šé—®åº¦å¨˜ã€‚ åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶å¤¹wwwï¼ˆå…¶å®žå¼€å‘æ–‡ä»¶å¤¹åº”è¯¥å«åšsrcçš„ï¼Œæ— å¥ˆè¢«é»˜è®¤çš„ç›®å½•å ç”¨äº†ï¼Œsrcè¿™ä¸ªæ–‡ä»¶å¤¹ä¸èƒ½åŠ¨ä»–ï¼Œå› ä¸ºæž„å»ºçš„uiæ–‡ä»¶ç±»ä¼šåœ¨é‡Œé¢ï¼Œç¨åŽæˆ‘ä»¬è¾“å‡ºwebpackçš„main.jsä¹Ÿä¼šæ”¾åœ¨é‡Œé¢ã€‚ç„¶åŽé¡¹ç›®ç¼–è¯‘æ—¶ä¼šç”¨åˆ°srcï¼‰ã€‚ æŽ¥ä¸‹æ¥åˆ‡æ¢åˆ°ä¸‹æ–¹çš„ç»ˆç«¯ï¼ˆæ²¡æœ‰çœ‹åˆ°çš„è¯f5ä¸€ä¸‹å§ï¼‰ï¼Œç”¨npmå®‰è£…å¦‚ä¸‹ä¸€å †ä¾èµ–çš„ä¸œè¥¿ï¼ˆä½ å¯ä»¥ç›´æŽ¥å»ºä¸€ä¸ªpackage.jsonæ–‡ä»¶ï¼Œå°†ä¸‹é¢çš„è€ƒè¿›åŽ»ï¼Œç„¶åŽnpm installï¼Œè°¢è°¢èµ¶ç´§æˆ‘~~ï¼‰ã€‚å®Œäº†ä¹‹åŽwwwä¼šæœ‰ä¸€ä¸ªnode_modulesæ–‡ä»¶å¤¹ï¼Œå…¨æ˜¯åˆšæ‰è£…çš„bï¼š 123456789101112131415161718192021222324252627&#123; &quot;name&quot;: &quot;webpack-demo&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;index.js&quot;, &quot;scripts&quot;: &#123; &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;, &quot;webpack&quot;: &quot;webpack&quot; &#125;, &quot;author&quot;: &quot;wxq&quot;, &quot;license&quot;: &quot;ISC&quot;, &quot;dependencies&quot;: &#123; &quot;babel-cli&quot;: &quot;^6.26.0&quot;, &quot;babel-core&quot;: &quot;^6.26.0&quot;, &quot;babel-loader&quot;: &quot;^7.1.2&quot;, &quot;babel-plugin-transform-runtime&quot;: &quot;^6.23.0&quot;, &quot;babel-polyfill&quot;: &quot;^6.26.0&quot;, &quot;babel-preset-env&quot;: &quot;^1.6.1&quot;, &quot;dateformat&quot;: &quot;^3.0.3&quot;, &quot;gulp&quot;: &quot;^3.9.1&quot;, &quot;gulp-babel&quot;: &quot;^7.0.1&quot;, &quot;gulp-less&quot;: &quot;^3.4.0&quot;, &quot;gulp-util&quot;: &quot;^3.0.8&quot;, &quot;webpack&quot;: &quot;^3.10.0&quot;, &quot;webpack-stream&quot;: &quot;^4.0.0&quot; &#125;&#125; åˆ›å»º.babelrcæ–‡ä»¶ï¼Œé‡Œé¢æ˜¯babelçš„é¢„è®¾é›†é…ç½®ç­‰ï¼Œå¦‚æžœä½ ä¸æƒ³æ‡‚ï¼Œå¯ä»¥ç›´æŽ¥copyè¿›åŽ»ï¼š 123456789101112&#123; &quot;presets&quot;: [&quot;env&quot;], &quot;plugins&quot;: [[ &quot;transform-runtime&quot;, &#123; &quot;helpers&quot;: false, &quot;polyfill&quot;: false, &quot;regenerator&quot;: true, &quot;moduleName&quot;: &quot;babel-runtime&quot; &#125; ]]&#125; åˆ›å»ºwebpack.config.jsæ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯webpackçš„é…ç½®æ–‡ä»¶ï¼Œä¸»è¦é…ç½®webpackæ‰“åŒ…çš„å…¥å£æ–‡ä»¶å£å’Œè¾“å‡ºæ–‡ä»¶ï¼Œä¹‹åŽä¼šæ—¶å€™gulpçš„è‡ªåŠ¨ä»»åŠ¡æ‰§è¡Œwebpackæ‰“åŒ…ï¼ŒåŒæ—¶ä¼šå°†es6ï¼ˆes7ã€es8ï¼‰é€šè¿‡bableè½¬è¯‘ä¸ºes5ã€‚ åˆ›å»ºgulpfile.jsæ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯gulpçš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æžœä½ ä¸æƒ³æ‡‚ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥copyè¿›åŽ»ï¼š 123456789101112131415const gulp = require("gulp");//è½¬è¯‘JavaScriptgulp.task("webpack",()=&gt;&#123; const webpack = require("webpack-stream"); const config = require("./webpack.config"); gulp.src("./src/**/*.js") .pipe(webpack(config)) .pipe(gulp.dest("../src/"))&#125;);gulp.task("watch",function()&#123; gulp.watch("./src/**/*.js",['webpack']);&#125;);gulp.task("default",["webpack",'watch']); è§£é‡Šä¸€ä¸‹å§ï¼Œå¼•å…¥ä¾èµ–gulpï¼Œåˆ›å»ºä¸‰ä¸ªä»»åŠ¡ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ‰“åŒ…ä»»åŠ¡ï¼Œwebpackæ‰§è¡Œï¼Œç¬¬äºŒä¸ªæ˜¯watchä»»åŠ¡ç›‘å¬æ–‡ä»¶å˜åŒ–è‡ªåŠ¨æ‰§è¡Œç¬¬ä¸€ä¸ªä»»åŠ¡ï¼Œè¿™æ ·å°±ä¸éœ€è¦æ¯æ¬¡ä¿®æ”¹æ–‡ä»¶éƒ½åŽ»æ‰§è¡Œgulpå‘½ä»¤äº†ï¼Œç¾Žæ»‹æ»‹~~ï¼Œç¬¬ä¸‰ä¸ªé»˜è®¤ä»»åŠ¡ï¼Œå°±æ˜¯åŽ»æ‰§è¡Œä¸Šé¢ä¸¤ä¸ªå’¯ã€‚ æ‰§è¡Œnpm install gulp -g å®‰è£…gulpåˆ°å…¨å±€ï¼ˆå¿…é¡»å®‰è£…åˆ°å…¨å±€ å…¨å±€ -gï¼‰ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ ä¸Šè¿°æ­¥éª¤å®Œæˆä¸”æ²¡æœ‰é—®é¢˜ä¹‹åŽï¼ŒæˆåŠŸä¹‹åŽå†åŽ»æ‰§è¡Œgulpå‘½ä»¤å§ï¼Œå¦‚å›¾æˆ‘å°†wwwä¸‹é¢çš„srcæ–‡ä»¶å¤¹ä¸‹é¢çš„æ‰€æœ‰ä¸œè¥¿éƒ½æ‰“åŒ…åˆ°äº†æ ¹ç›®å½•ä¸‹çš„srcæ–‡ä»¶å¤¹çš„mian.jsæ–‡ä»¶é‡Œé¢: ç„¶åŽæ‰“å¼€ä½ çš„wwwâ€“&gt;srcâ€“&gt;main.jsï¼š å°±é•¿è¿™æ ·å•¦ï¼Œç„¶åŽåŽ»æŠŠindex.htmlé‡Œé¢çš„ä»£ç æ”¹æ”¹å§ï¼Œå™¢å•¦ï¼ŒçŽ¯å¢ƒæ­å»ºå®Œæˆã€‚ 12345&lt;!--IDEç”Ÿæˆçš„UIæ–‡ä»¶--&gt; &lt;script src="../src/ui/layaUI.max.all.js"&gt;&lt;/script&gt; &lt;!--jsfile--startTag--&gt; &lt;script src="../src/main.js"&gt;&lt;/script&gt; &lt;!--jsfile--endTag--&gt; å¦‚æžœåˆ°è¿™é‡Œï¼Œä½ æ²¡æœ‰å¦‚é‡åˆ°ä»€ä¹ˆéš¾é¢˜ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥å‡†å¤‡è¿›å…¥æ­£é¢˜äº†ï¼Œemmmmã€‚ å¼€å‘å…¥é—¨èˆžå°æ­å»ºä¸Žé€‚é…å¼€å‘ç›®å½•ä¸‹æ–°å»ºçš„main.jsæ–‡ä»¶å…¨éƒ¨ä»£ç åˆ é™¤ï¼Œç„¶åŽä¸ç”¨ç®¡å®ƒï¼ŒæŽ¥ä¸‹æ¥ï¼š GameMain.js: 12345678910111213141516171819export class GameMain &#123; constructor() &#123; &#125; static init() &#123; Laya.MiniAdpter.init(); Laya.init(768, 1366, Laya.WebGL); Laya.stage.bgColor = "#5a7b9a"; //æ°´å¹³å¯¹é½æ–¹å¼ï¼Œæ°´å¹³å±…ä¸­ Laya.stage.alignH = Laya.Stage.ALIGN_CENTER; //åž‚ç›´å¯¹é½æ–¹å¼ï¼Œåž‚ç›´å±…ä¸­ Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE; //æŒ‰ç…§å®½åº¦ Laya.stage.scaleMode = Laya.Stage.SCALE_SHOWALL; //å±å¹•é€‚é…ï¼Œæ¨ªå±è¿˜æ˜¯ç«–å±ï¼Œé»˜è®¤ä¸æ”¹å˜ Laya.stage.screenMode = Laya.Stage.SCREEN_NONE; //ç¦ç”¨å¤šç‚¹è§¦æŽ§ Laya.MouseManager.multiTouchEnabled = false; &#125;&#125; å¦‚æžœes6ä¸æ‡‚çš„å¯ä»¥å…ˆåŽ»è¡¥ä¸€ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªé™æ€çš„æ–¹æ³•init()ã€‚ Laya.MiniAdpter.init();//å¦‚æžœä¸è€ƒè™‘å¾®ä¿¡å°æ¸¸æˆå¯ä»¥ä¸åŠ ï¼Œå½“ç„¶åŠ ä¸Šä¹Ÿä¸ä¼šæ€Žæ ·ã€‚ Laya.init(768, 1366, Laya.WebGL);//åˆå§‹åŒ–èˆžå°å¤§å°ï¼Œè®°ä½è¿™ä¸ªå°ºå¯¸æ˜¯è®¾è®¡å¤§ä½¬ç»™çš„ï¼Œå¥¹ä»¬çš„å›¾éƒ½æŒ‰ç…§è¿™ä¸ªå°ºå¯¸æ¥åšçš„ã€‚å®½ã€é«˜ã€æ¸²æŸ“æ–¹å¼ã€‚ Laya.stage.bgColor = â€œ#5a7b9aâ€;//è¿™ä¸ªèˆžå°èƒŒæ™¯ï¼Œçˆ±å’‹å’‹åœ°å§ã€‚ æŽ¥ä¸‹æ¥çš„å…¨æ˜¯åšæ˜¯é…çš„ï¼Œcopyè´´ä¸ŠåŽ»å°±å¯¹äº†ã€‚è¿˜æœ‰å…¶ä»–çš„é€‚é…æ–¹å¼ï¼Œä»¥åŠå‚æ•°ï¼Œè‡ªå·±åŽ»å®˜ç½‘çœ‹å§ï¼Œåæ­£æˆ‘æ€Žä¹ˆä¸ç”¨ã€‚ å…³äºŽå›¾é›†æ‰“åŒ…ä¸Žèµ„æºåŠ è½½ç­–ç•¥åœ¨è¿›å…¥mainæ–‡ä»¶ä¹‹å‰è®²ä¸€è®²è¿™ä¸¤ç‚¹ï¼šå›¾é›†æ‰“åŒ…ä¸Žèµ„æºåŠ è½½ã€‚ å›¾é›†æ‰“åŒ…ï¼š è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œä½ æ‡‚æˆ‘æ„æ€å§ï¼š çœ‹å›¾çš„æ—¶å€™ä¸è¦é—®æˆ‘æ‹¿æ¥é‚£ä¹ˆå¤šæ–‡ä»¶ï¼Œçœ‹é‡ç‚¹ï¼šåœ¨è¿™ä¸ªç•Œé¢ï¼Œå½“ä½ æŒ‰ä¸‹f12çš„æ—¶å€™ï¼Œä¼šå‘å¸ƒä»£ç ï¼Œå¹¶å°†çº¢è‰²æ¡†é‡Œçš„æ–‡ä»¶å¤¹é‡Œé¢çš„å›¾ç‰‡ï¼ŒæŒ‰åˆ†æ–‡å¤¹çš„æ–¹å¼æ‰“åŒ…æˆå›¾é›†ï¼Œè¿™äº›æ–‡ä»¶å°±æ˜¯åœ¨www/laya/assetsä¸‹é¢ï¼Œå‘å¸ƒå®Œæˆä¹‹åŽï¼Œä½ åœ¨bin/res/atlasä¸‹é¢çœ‹åˆ°å›¾é›†çš„.pngä¸Ž.atlasï¼ˆjsonï¼‰æ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ æ³¨æ„ï¼šåœ¨ç¼–è¾‘æ¨¡å¼æŒ‰f9å¯ä»¥è¿›è¡Œè®¾ç½®ï¼ŒåŒ…æ‹¬å›¾é›†çš„å¤§å°ï¼Œå½“ç„¶ï¼Œè¿™é‡Œä¸»è¦ä¹Ÿæ˜¯è®¾ç½®å›¾é›†å¤§å°ã€‚ è¿™å›¾é›†æ‰“åŒ…å°±è¿™æ ·å’¯ï¼ŒæŽ¥ä¸‹æ¥æ˜¯èµ„æºåŠ è½½â†“â†“â†“â†“â†“ èµ„æºåŠ è½½ï¼š å…³äºŽèµ„æºåŠ è½½å¦‚æžœåšè¿‡æ¸¸æˆéƒ½çŸ¥é“ï¼Œæœ‰ä¸€ä¸ªè½½å…¥ç•Œé¢ï¼Œè½½å…¥ç•Œé¢ç”¨åˆ°çš„æ‰€æœ‰èµ„æºæœ€å¥½æ˜¯æ”¾åœ¨æ¸¸æˆåŒ…é‡Œé¢ï¼Œè¿›è¡Œç¬¬ä¸€æ¬¡åŠ è½½ã€‚ç¬¬ä¸€æ¬¡åŠ è½½å®Œæˆä¹‹åŽå°±æ˜¯åŠ è½½æ¸¸æˆéœ€è¦çš„å…¶å®ƒå¤§éƒ¨åˆ†èµ„æºï¼Œè¿™é‡Œé¢çš„èµ„æºæœ‰å¯èƒ½æ˜¯åœ¨æœ¬åœ°ï¼Œä¹Ÿæœ‰å¯èƒ½åŠ è½½ç½‘ç»œèµ„æºï¼Œä¸€èˆ¬éœ€è¦å†™ä¸€ä¸ªèµ„æºåŠ è½½ç±»ã€‚ ç®€å•ä»‹ç»layaé‡Œé¢çš„èµ„æºåŠ è½½ç±»è¯¥å¦‚ä½•å†™ï¼š ä¸»è¦ä½¿ç”¨Laya.loader.load()æ–¹æ³•è¿›è¡ŒåŠ è½½ï¼Œè¯¥æ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°ï¼š 1Laya.loader.load(this.resources, Laya.Handler.create(this, loaded), Laya.Handler.create(this, loading, null, false)); ç¬¬ä¸€ä¸ªï¼Œèµ„æºï¼Œå¦‚æžœå•ä¸ªåŠ è½½ï¼Œå¯ä»¥å†™å­—ç¬¦ä¸²è·¯å¾„ï¼Œå¦‚æžœæ‰¹é‡åŠ è½½ï¼Œå†™æˆæ•°ç»„å¯¹è±¡ï¼š 12345678910111213141516171819let res = [ &#123;url: "res/atlas/start.atlas"&#125;, &#123;url: "res/atlas/activity.atlas"&#125;, &#123;url: "res/atlas/popup.atlas"&#125;, &#123;url: "res/atlas/comp.atlas"&#125;, &#123;url: "res/atlas/part.atlas"&#125;, &#123;url: "res/atlas/shareMask.atlas"&#125;, &#123;url: "res/atlas/common.atlas"&#125;, &#123; url: "res/sound/btn_click.mp3", name: "btn_click", type: Laya.Loader.SOUND &#125;, &#123; url: "res/sound/btnShowSound.mp3", name: "btnShowSound", type: Laya.Loader.SOUND &#125;] nameå¯ä»¥ä½œä¸ºåå­—è°ƒç”¨èµ„æºï¼Œå¦‚æžœä¸å†™ï¼Œç”¨çš„æ—¶å€™åªèƒ½é€šè¿‡å­—ç¬¦ä¸²è·¯å¾„è°ƒç”¨èµ„æºï¼› typeæ˜¯èµ„æºç±»åž‹ï¼Œä¹Ÿå¯ä»¥ä¸å†™ï¼Œä½†æœ€å¥½å†™ä¸Š ç¬¬äºŒä¸ªï¼šåŠ è½½å®Œæˆçš„å›žè°ƒï¼Œåªè¿”å›žtrueæˆ–è€…falseï¼Œ ç¬¬ä¸‰ä¸ªï¼šåŠ è½½è¿‡ç¨‹çš„å›žè°ƒï¼Œè¿”å›žçš„æ˜¯æ•°å­—ï¼Œä»Ž0-100ã€‚ ä¸Šä¸€ä¸‹å®Œæ•´çš„ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637import &#123;GameMain&#125; from './base/GameMain.js'import &#123;ResLoader&#125; from './utils/ResLoader.js'import &#123;MainBoard&#125; from "./base/MainBoard";import &#123;UserUtils&#125; from "./utils/UserUtils";import &#123;GlobalData&#125; from "./base/GlobalData";import &#123;GameEvent&#125; from "./utils/GameEvent";import &#123;LayoutUtils&#125; from "./utils/LayoutUtils";GameMain.init();Laya.loader.load("res/atlas/loading.atlas", Laya.Handler.create(this, function (e) &#123; let resManager = ResLoader.getInstance(); let loading = new ui.view.gameLoadingUI(); Laya.stage.addChild(loading); let sp_mask = loading.sp_mask; sp_mask.optimizeScrollRect = true; resManager.loaded((e) =&gt; &#123; let mainBoard = MainBoard.getInstance(); let user = UserUtils.getInstance(); user.getWxUser(&#123; sucFn: () =&gt; &#123; console.log('ç™»é™†æˆåŠŸv1.0.0'); Laya.stage.addChild(LayoutUtils.getInstance().map.get("gameStartUI")); Laya.stage.removeChild(loading); mainBoard.initMainBoard(); GameEvent.getInstance().bindListenEvent(); GameEvent.getInstance().remarkGameTime(); &#125;, errFn: () =&gt; &#123; alert('ç™»é™†å¤±è´¥'); &#125; &#125;); &#125;, (e) =&gt; &#123; let process = parseInt(e * 100); loading.progress_text.text = process + '%'; sp_mask.scrollRect = new Laya.Rectangle(0, 0, 5.2 * process, 24); &#125;);&#125;)); resManageræ˜¯æˆ‘è‡ªå·±å†™çš„èµ„æºåŠ è½½ç®¡ç†å™¨ï¼Œåšç»Ÿä¸€èµ„æºç®¡ç†ï¼Œå…¶å®žè·Ÿè¿™åŠ è½½ä¸€æ ·ï¼Œåªæ˜¯èµ„æºå¤šï¼Œå°è£…äº†ä¸€ä¸‹ã€‚ å¤šè¯´ä¸€å¥ï¼šå•ä¾‹æ¨¡å¼ å› ä¸ºè¿™é‡ŒåŸºäºŽes6çš„ç±»ï¼Œå¸¸å¸¸éœ€è¦å®žä¾‹åŒ–ç±»ï¼Œåƒèµ„æºåŠ è½½è¿™ç§åªéœ€è¦å®žä¾‹åŒ–ä¸€æ¬¡çš„å°±éœ€è¦ç”¨åˆ°jsçš„å•ä¾‹æ¨¡å¼ï¼Œå…·ä½“å®žçŽ°å¦‚ä¸‹ï¼š 12345678export class ResLoader &#123; static getInstance() &#123; return ResLoader.instance ? ResLoader.instance : ResLoader.instance = new ResLoader(); &#125; constructor() &#123;&#125;&#125; UIåˆ›å»º å¦‚æžœä½ ä¸æƒ³é€šè¿‡å®ƒçš„ç¼–è¾‘å™¨åˆ›å»ºç•Œé¢ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªä¸è¿‡å…¨éƒ¨ç”¨ä»£ç æ¥å®žçŽ°æ¯”è¾ƒéº»çƒ¦ï¼Œçœ‹çœ‹ä»–çš„uiæœ‰å“ªäº›ç»„ä»¶å§ï¼Œä¼ é€é—¨ï¼šhttps://layaair.ldc.layabox.com/api/?category=UI&amp;class=laya.ui.AsynDialog ä»€ä¹ˆImageï¼ŒTextï¼ŒButtonï¼ŒSpriteå…¨éƒ¨è‡ªå·±å†™ä¹Ÿå¾ˆä¸çˆ½ã€‚ä¸è¿‡ä½ å¯ä»¥è¯•è¯•ç”¨è‡ªå·±å†™ä»£ç çš„æ–¹å¼æ¥è¿›è¡Œæ¸¸æˆå¸ƒå±€ï¼Œæ¯”å¦‚æˆ‘å†™çš„ä¸€äº›ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758diyPopup(btnImgs) &#123; let length = btnImgs.length; let btnArr=[]; let popupUI = this.map.get('gamePopupUI'); for (let i = 0; i &lt; 3; i++) &#123; popupUI.removeChildByName(`btn$&#123;i===0?'':i&#125;`) &#125; if (length === 1) &#123; let btn = new Laya.Image().size(262, 116).pos(250, 678); btn.skin = btnImgs[0]; btn.name = 'btn'; btnArr.push(btn); popupUI.addChild(btn); &#125; else if (length === 2) &#123; let btn1 = new Laya.Image().size(262, 116).pos(67, 678); btn1.name = 'btn1'; btn1.skin = btnImgs[0]; let btn2 = new Laya.Image().size(262, 116).pos(443, 678); btn2.name = 'btn2'; btn2.skin = btnImgs[1]; btnArr.push(btn1,btn2); popupUI.addChild(btn1); popupUI.addChild(btn2); &#125; //é®ç½© popupUI.bg_wrap.graphics.clear(); popupUI.bg_wrap.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, "#000000"); return &#123;popupUI:popupUI,btnArr:btnArr&#125; &#125; //è‡ªå®šä¹‰ diyIcon(iconArr) &#123; let length = iconArr.length; let mainUI = this.map.get('gameMainUI'); mainUI.icon_wrap.destroyChildren(); let iconUI = []; if (length === 1) &#123; let icon = new Laya.Image().size(77, 68).pos(258, 0); icon.skin = iconArr[0]; mainUI.icon_wrap.addChild(icon); iconUI.push(icon) &#125; else if (length === 2) &#123; for (let i = 0;i &lt; length;i++)&#123; let icon = new Laya.Image().size(77, 68).pos(207+i*(30+77), 0); icon.skin = iconArr[i]; mainUI.icon_wrap.addChild(icon); iconUI.push(icon) &#125; &#125; else &#123; for (let i = 0;i &lt; length;i++)&#123; let icon = new Laya.Image().size(77, 68).pos(169+i*(15+77), 0); icon.skin = iconArr[i]; mainUI.icon_wrap.addChild(icon); iconUI.push(icon) &#125; &#125; return iconUI; &#125; è¿˜æ˜¯ç”¨ç¼–è¾‘å™¨æ‹–æ‹–æ‹‰æ‹‰èˆ’æœï¼Œç‚¹å‡»viewæ–°å»ºé¡µé¢/åœºæ™¯ï¼Œæœ€å¥½æŠŠé€»è¾‘ç±»å‹¾ï¼Œæœ¬äººå½“æ—¶æ²¡æœ‰å‹¾ä¸Šï¼Œå°±å…¨éƒ¨å‘å¸ƒåˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œé¢åŽ»äº†ï¼Œä¸‹é¢ä¼šè¯´çš„ã€‚ç„¶åŽç›´æŽ¥å¾€ä¸Šæ€¼ï¼š åšå®Œä¹‹åŽæŒ‰f12å‘å¸ƒï¼Œå°±ä¼šå‘å¸ƒåˆ°src/uiä¸‹é¢çš„layaUI.max.all.jsé‡Œé¢ã€‚ æŽ¥ä¸‹æ¥åœ¨ä»£ç é‡Œé¢å¼•ç”¨ï¼š 12let gameMain= new ui.view.gameMainUI();Laya.stage.addChild(gameMain);//æ·»åŠ åˆ°èˆžå°ï¼ŒremoveChild()ä½ æ‡‚å§ å¦‚æ­¤ï¼Œé¡µé¢åœºæ™¯ä¹Ÿå¯ä»¥è‡ªå·±æ­å»ºå¥½äº†ã€‚å…¶å®žè¿˜æœ‰ä¸€éƒ¨åˆ†æ˜¯ç²’å­å’ŒåŠ¨ç”»ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™ä¸ªå¯ä»¥çœ‹çœ‹å®˜ç½‘ç»™çš„æ•™ç¨‹ï¼ˆæˆ‘å¸æœ‰åšç²’å­å’ŒåŠ¨ç”»çš„ï¼Œæˆ‘ä¸ä¼šï¼‰ï¼Œä¼ é€é—¨ï¼šhttps://ldc.layabox.com/doc/?nav=zh-js-2-1-10ã€‚ è¿™ä¸€å…¥é—¨éƒ¨åˆ†ä¹Ÿå°±å‘Šä¸€æ®µè½ï¼ŒåŸºæœ¬ä¸Šå¯è‡ªå·±å†™å‡ºä¸€ä¸ªdemoã€‚ä¸‹ä¸€ç¯‡å‡†å¤‡è®²è®²ä½¿ç”¨layaçš„APIä»¥åŠå…¶ä¸­é‡åˆ°çš„å·¨å‘ã€‚layaç³»åˆ—å®Œäº†ä¹‹åŽå‡†å¤‡å†å†™ä¸€ä¸ªegretå…¥é—¨ä¸Žå‘çš„ç³»åˆ—ã€‚å¦‚æžœæœ‰é”™è¯¯çš„åœ°æ–¹ï¼Œè¿˜è¯·å¤šå¤šæŒ‡æ•™ã€‚]]></content>
      <categories>
        <category>æŠ€æœ¯æ ˆ</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[node+expressä½¿ç”¨multipartyå®žçŽ°æ–‡ä»¶ä¸Šä¼ ]]></title>
    <url>%2F20160520%2Fnode-express-fileupload%2F</url>
    <content type="text"><![CDATA[æ–‡ä»¶ä¸Šä¼ åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­æ˜¯ç›¸å¯¹äºŽæ¯”è¾ƒåŸºç¡€çš„åŠŸèƒ½ï¼Œä»Šå¤©åˆ†äº«ä¸€ä¸‹è‡ªå·±æ˜¯å¦‚ä½•åœ¨nodejsä¸­ä½¿ç”¨ä¸­é—´ä»¶multipartyå®žçŽ°æ–‡ä»¶ä¸Šä¼ çš„ã€‚nodejsçŽ¯å¢ƒçš„æ­å»ºå°±ä¸èµ˜è¿°äº†ï¼Œç›´å¥”ä¸»é¢˜å§ï¼ ç¬¬ä¸€æ­¥ï¼šå¼•å…¥expressç­‰éœ€è¦ç”¨åˆ°çš„æ¨¡å—expressï¼Œjadeç­‰æ¨¡å—éƒ½éœ€è¦è‡ªå·±æ‰‹åŠ¨ä½¿ç”¨npmå‘½ä»¤åœ¨æŽ§åˆ¶å°å®‰è£…ï¼Œå¦‚npm install expressã€‚åœ¨è¿™é‡Œç”¨çš„æ˜¯jadeæ¨¡æ¿å¼•æ“Žã€‚ ï¼ˆæ–‡ä»¶ demo.jsï¼‰ 12345678910111213141516171819202122var express = require("express");//å¯¼å…¥expressæ¨¡å—var path = require('path');//è·¯å¾„é…ç½®æ¨¡å—var bodyParser = require('body-parser')//é¡µé¢ä¼ é€’å‚æ•°è§£æžvar mysql = require('mysql');//mysqlæ¨¡å—var multiparty = require('multiparty');//æ–‡ä»¶ä¸Šä¼ æ¨¡å—var util = require('util');var fs = require('fs');var app = express(); var port = 3000;//ç«¯å£å·app.set("views","views/pages/");//è®¾ç½®è§†å›¾æ–‡ä»¶è·¯å¾„app.set("view engine","jade");//è®¾ç½®æ¨¡æ¿å¼•æ“Žapp.use(express.static(path.join(__dirname,'bower_components')))//è®¾ç½®é™æ€æ–‡ä»¶è·¯å¾„app.use(bodyParser.urlencoded(&#123;extended: true,&#125;))app.listen(port);//ç›‘å¬ç«¯å£console.log("start..."+port);console.log('è¿žæŽ¥å¼€å§‹');app.get("/index",function (req,res) &#123; res.send("hello")&#125;) ç„¶åŽæˆ‘ä»¬å°±å¯ä»¥åœ¨æŽ§åˆ¶å°å¯åŠ¨æœåŠ¡ node demoï¼Œè®¿é—®è·¯å¾„http://localhost:3000/indexå°±å¯ä»¥çœ‹åˆ°ç»“æžœäº† å¼€å§‹ç¼–å†™htmlä»£ç (å› ä¸ºä½¿ç”¨çš„jadeæ¨¡æ¿å¼•æ“Žï¼Œæ‰€ä»¥æŒ‰ç…§jadeè¯­æ³•ç¼–å†™)ä¸»è¦æ˜¯è¡¨å•æäº¤ï¼Œå…³äºŽæ ·å¼ä»£ç å°±ä¸è§£é‡Šäº†ã€‚ä»£ç å’Œæµè§ˆå™¨æ•ˆæžœå¦‚ä¸‹ï¼Œå…¶ä¸­ä»£ç æœ‰å‡ ä¸ªåœ°æ–¹è¦è§£é‡Šä¸€ä¸‹,enctype=â€multipart/form-dataâ€è¿™ä¸€æ®µä»£ç å¿…é¡»è¦åŠ ä¸Šï¼Œç”¨äºŽè¡¨å•é‡Œå›¾ç‰‡ä¸Šä¼ ï¼Œaction = â€œ/demoâ€ä»£è¡¨è¡¨å•æäº¤å¤„ç†çš„è·¯å¾„ã€‚å¹¶æŠŠåŽå°çš„get è¯·æ±‚ä»£ç é™„ä¸Š ï¼ˆæ–‡ä»¶demo.jadeï¼‰ 12345678910111213141516171819div.con form.loginForm(method = &quot;post&quot;,enctype=&quot;multipart/form-data&quot; ,action = &apos;/demo&apos;) div.upload span å§“å: input.stuMsg.stu_name(type = &quot;text&quot;,name = &quot;name&quot;,placeholder = &quot;å§“å&quot;) div.upload span å­¦å·: input.stuMsg.stu_number(type = &quot;text&quot;,name = &quot;number&quot;,placeholder = &quot;å­¦å·&quot;) div.upload span æ€§åˆ«: input.stuMsg.stu_sex(type = &quot;text&quot;,name = &quot;sex&quot;,placeholder = &quot;æ€§åˆ«&quot;) div.upload span å¹´é¾„: input.stuMsg.stu_age(type = &quot;text&quot;,name = &quot;age&quot;,placeholder = &quot;å¹´é¾„&quot;) div.upload#containimg span å¤´åƒ: input.stuMsg.stu_img(type = &quot;file&quot;,name = &quot;upfiles&quot;,multiple=&apos;mutiple&apos;) div.upload input.stuMsg.addmsg(type = &quot;submit&quot;,value = &quot;å½•å…¥&quot;) ï¼ˆæ–‡ä»¶app.jsï¼‰ 123app.get("/demo",function (req,res) &#123; res.render('demo',&#123;&#125;)&#125;) æŽ¥ç€å¼€å§‹è¿žæŽ¥æ•°æ®åº“ï¼Œæˆ‘ä½¿ç”¨çš„å¸‚mysqlï¼ŒåŒæ ·éœ€è¦å¼•å…¥æ¨¡å—ã€‚æ•°æ®åº“é‡Œé¢çš„å­—æ®µæœ‰id name number sex age img ï¼ˆæ–‡ä»¶demo.jsï¼‰ 12345678//åˆ›å»ºè¿žæŽ¥æ•°æ®åº“var conn = mysql.createConnection(&#123; host: 'localhost', user: 'root', database:'stu_manage_system', port: 3306,&#125;);conn.connect();//è¿žæŽ¥æ•°æ®åº“ ç„¶åŽå¼€å§‹ç¼–å†™æ–‡ä»¶ä¸Šä¼ çš„æ ¸å¿ƒä»£ç ï¼š ï¼ˆæ–‡ä»¶demo.jsï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839app.post("/demo",function(req,res)&#123; var insertSQL = 'insert into student values(0,?,?,?,?,?)'; var insertSQL_params = []; var form = new multiparty.Form();//å®žä¾‹ä¸€ä¸ªmultiparty form.uploadDir = __dirname+"/bower_components/uploads/";//è®¾ç½®æ–‡ä»¶å‚¨å­˜è·¯å¾„ //å¼€å§‹è§£æžå‰å°ä¼ è¿‡æ¥çš„æ–‡ä»¶ form.parse(req, function(err, fields, files) &#123; for (var item in fields)&#123; insertSQL_params.push(fields[item][0]) console.log(fields[item][0]) &#125; var filesTmp = JSON.stringify(files); var pr = JSON.parse(filesTmp) console.log(pr.upfiles.length) if(err)&#123; console.log('parse error: ' + err); &#125; else &#123; for (var i = 0 ; i &lt; pr.upfiles.length ; i++) &#123; var inputFile = files.upfiles[i];//èŽ·å–ç¬¬ä¸€ä¸ªæ–‡ä»¶ var finalname = inputFile.originalFilename; insertSQL_params.push(finalname) var new_name =__dirname+"/bower_components/uploads/"+finalname;//èŽ·å–æ–‡ä»¶å console.log(new_name) var old_name = inputFile.path;//èŽ·å–æ–‡ä»¶è·¯å¾„ console.log(old_name) fs.renameSync(old_name,new_name); &#125; &#125; //æ·»åŠ æ•°æ®åˆ°æ•°æ®åº“ conn.query(insertSQL,insertSQL_params, function (err2, rows) &#123; if (err2)&#123; console.log(err2); &#125;else&#123; console.log("æˆåŠŸ") &#125; &#125;) res.send("æˆåŠŸ") &#125;)&#125;) å…¶ä¸­æœ‰äº›åœ°æ–¹è§£é‡Šä¸€ä¸‹ï¼š é¦–å…ˆå®žä¾‹ä¸€ä¸ªmultipartyèµ‹ç»™formï¼Œ form.parse(reqï¼Œcallback)çš„å›žè°ƒå‡½æ•°ä¸‰ä¸ªå‚æ•°ï¼Œå…¶ä¸­fieldsæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºè¡¨å•ä¸­éžæ–‡ä»¶çš„æ•°æ® fileså‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»–åŒ…å«äº†æ–‡ä»¶çš„æ‰€æœ‰ä¿¡æ¯ JSON.parseç”¨äºŽä»Žä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è§£æžå‡ºjsonå¯¹è±¡JSON.stringifyåˆ™ç›¸å é€šè¿‡originalFilenameèŽ·å–æ–‡ä»¶çš„åŽŸå§‹åï¼Œæœ€åŽå°†æ–‡ä»¶ä¿¡æ¯å­˜åˆ°æ•°æ®åº“ã€‚ demo.jsdçš„å®Œæ•´ä»£ç å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374var express = require("express");//å¯¼å…¥expressæ¨¡å—var path = require('path');//è·¯å¾„é…ç½®æ¨¡å—var bodyParser = require('body-parser')//é¡µé¢ä¼ é€’å‚æ•°è§£æžvar mysql = require('mysql');//mysqlæ¨¡å—var multiparty = require('multiparty');//æ–‡ä»¶ä¸Šä¼ æ¨¡å—var util = require('util');var fs = require('fs');var app = express(); var port = 3000;//ç«¯å£å·app.set("views","views/pages/");//è®¾ç½®è§†å›¾æ–‡ä»¶è·¯å¾„app.set("view engine","jade");//è®¾ç½®æ¨¡æ¿å¼•æ“Žapp.use(express.static(path.join(__dirname,'bower_components')))//è®¾ç½®é™æ€æ–‡ä»¶è·¯å¾„app.use(bodyParser.urlencoded(&#123;extended: true,&#125;))app.listen(port);//ç›‘å¬ç«¯å£console.log("start..."+port);console.log('è¿žæŽ¥å¼€å§‹');//åˆ›å»ºè¿žæŽ¥æ•°æ®åº“var conn = mysql.createConnection(&#123; host: 'localhost', user: 'root', database:'stu_manage_system', port: 3306,&#125;);conn.connect();//è¿žæŽ¥æ•°æ®åº“ app.get("/demo",function (req,res) &#123; res.render('demo',&#123;&#125;)&#125;)app.post("/demo",function(req,res)&#123; var insertSQL = 'insert into student values(0,?,?,?,?,?)'; var insertSQL_params = []; var form = new multiparty.Form();//å®žä¾‹ä¸€ä¸ªmultiparty form.uploadDir = __dirname+"/bower_components/uploads/";//è®¾ç½®æ–‡ä»¶å‚¨å­˜è·¯å¾„ //å¼€å§‹è§£æžå‰å°ä¼ è¿‡æ¥çš„æ–‡ä»¶ form.parse(req, function(err, fields, files) &#123; console.log(fields) for (var item in fields)&#123; insertSQL_params.push(fields[item][0]) console.log(fields[item][0]) &#125; console.log(files) var filesTmp = JSON.stringify(files); var pr = JSON.parse(filesTmp) console.log(pr.upfiles.length) if(err)&#123; console.log('parse error: ' + err); &#125; else &#123; for (var i = 0 ; i &lt; pr.upfiles.length ; i++) &#123; var inputFile = files.upfiles[i];//èŽ·å–ç¬¬ä¸€ä¸ªæ–‡ä»¶ var finalname = inputFile.originalFilename; insertSQL_params.push(finalname) var new_name =__dirname+"/bower_components/uploads/"+finalname;//èŽ·å–æ–‡ä»¶å console.log(new_name) var old_name = inputFile.path;//èŽ·å–æ–‡ä»¶è·¯å¾„ console.log(old_name) fs.renameSync(old_name,new_name); &#125; &#125; //æ·»åŠ æ•°æ®åˆ°æ•°æ®åº“ conn.query(insertSQL,insertSQL_params, function (err2, rows) &#123; if (err2)&#123; console.log(err2); &#125;else&#123; console.log("æˆåŠŸ") &#125; &#125;) res.send("æˆåŠŸ") &#125;)&#125;) å¦‚æœ‰é”™è¯¯ã€æ„è§ã€å»ºè®®ï¼Œæ¬¢è¿Žæå‡ºã€‚]]></content>
      <categories>
        <category>æŠ€æœ¯æ ˆ</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[nodeJSåˆ›å»ºç®€å•å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ]]></title>
    <url>%2F20160310%2Fnode-student-sys%2F</url>
    <content type="text"><![CDATA[å®‰è£…å¹¶èµ·ä¸€ä¸ªæœåŠ¡ï¼š ä¸€ï¼šnodeJSä¸‹è½½å®‰è£…ã€‚ 1.nodeJSä¸‹è½½å®‰è£…ä¸å†èµ˜è¿°ï¼Œå®˜ç½‘ï¼šhttps://nodejs.org 2.npmå®‰è£…æ¨¡å—è¯­æ³•ï¼šnpm install _xxx_ äºŒï¼šåˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨ï¼Œå¼€å¯ç¬¬ä¸€ä¸ªåº”ç”¨ã€‚ ç”¨nodeJSçš„expressæ¡†æž¶åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨ï¼š (ä»¥expressæ¡†æž¶ä¸ºä¾‹å­åˆ›å»ºåº”ç”¨)expressæ¡†æž¶å°è£…äº†httpæ¨¡å—ç›¸æ¯”æ›´åŠ ç®€æ´, é¦–å…ˆè¦å®‰è£…expressæ¨¡å— npm install express 12345678// app.jsvar express = require(&quot;express&quot;);//å¼•å…¥expressæ¨¡å—var app = express();//å°†express()å¯¹è±¡èµ‹ç»™appvar port = 3000;//è®¾ç½®ç«¯å£å·app.get(&quot;/ &quot;,function (req,res) &#123; res.send(&quot;hello world&quot;)&#125;)app.listen(port);//ç›‘å¬ç«¯å£ åœ¨æ­£å¼å¼€å§‹ä¹‹å‰å…ˆçœ‹çœ‹é¡¹ç›®ç»“æž„ï¼š ç®€å•çš„ä»‹ç»ä¸€ä¸‹ï¼šå‰ç«¯ä¸»è¦ä½¿ç”¨bootstrapï¼Œjadeæ¨¡æ¿ï¼ŒjQueryï¼Œajaxå®žçŽ°å¼‚æ­¥è¯·æ±‚ï¼Œç”±äºŽå‰å°é¡µé¢æ–‡ä»¶è¾ƒå¤šï¼Œé™äºŽç¯‡å¹…å°±ä¸åŠ ä¸Šæ¥äº†ã€‚åŽå°é€»è¾‘ä¹Ÿä¸»è¦æ˜¯å¯¹æ•°æ®åº“çš„å¢žåˆ æŸ¥æ”¹ï¼Œå¯¹ä»£ç æ²¡æœ‰åšä»»ä½•çš„ä¼˜åŒ– ç›´æŽ¥ä¸Šä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275//app.jsvar express = require(&quot;express&quot;);//å¯¼å…¥expressæ¨¡å—var path = require(&apos;path&apos;);//è·¯å¾„é…ç½®æ¨¡å—var bodyParser = require(&apos;body-parser&apos;)//é¡µé¢ä¼ é€’å‚æ•°è§£æžvar mysql = require(&apos;mysql&apos;);//mysqlæ¨¡å—var multiparty = require(&apos;multiparty&apos;);//æ–‡ä»¶ä¸Šä¼ æ¨¡å—var util = require(&apos;util&apos;);var fs = require(&apos;fs&apos;);var app = express(); var port = 3000;//ç«¯å£å·app.set(&quot;views&quot;,&quot;views/pages/&quot;);//è®¾ç½®è§†å›¾æ–‡ä»¶è·¯å¾„app.set(&quot;view engine&quot;,&quot;jade&quot;);//è®¾ç½®æ¨¡æ¿å¼•æ“Žapp.use(express.static(path.join(__dirname,&apos;bower_components&apos;)))//è®¾ç½®é™æ€æ–‡ä»¶è·¯å¾„app.use(bodyParser.urlencoded(&#123;extended: true,&#125;))app.listen(port);//ç›‘å¬ç«¯å£console.log(&quot;start...&quot;+port);console.log(&apos;è¿žæŽ¥å¼€å§‹&apos;);//åˆ›å»ºè¿žæŽ¥æ•°æ®åº“var conn = mysql.createConnection(&#123; host: &apos;localhost&apos;, user: &apos;root&apos;, database:&apos;stu_manage_system&apos;, port: 3306,&#125;);conn.connect();//è¿žæŽ¥æ•°æ®åº“ //ç™»å½•app.get(&quot;/login&quot;,function (req,res) &#123; res.render(&apos;login&apos;,&#123; title:&quot;æ¬¢è¿Žç™»å½•å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ&quot; &#125;)&#125;)//æ·»åŠ å­¦ç”Ÿé¡µé¢app.get(&quot;/insert&quot;,function (req,res) &#123; res.render(&apos;insert&apos;,&#123; title:&quot;æ·»åŠ å­¦ç”Ÿé¡µé¢&quot; &#125;)&#125;)//åˆ é™¤å­¦ç”Ÿé¡µé¢ deleteapp.get(&quot;/delete&quot;,function (req,res) &#123; var pat = &apos;delete&apos; var title = &quot;åˆ é™¤å­¦ç”Ÿé¡µé¢&quot; search(pat,res,title)//è°ƒç”¨æ•°æ®åº“æŸ¥è¯¢æ–¹æ³•&#125;)//æŸ¥è¯¢å­¦ç”Ÿé¡µé¢ searchapp.get(&quot;/search&quot;,function (req,res) &#123; var title = &quot;æŸ¥è¯¢å­¦ç”Ÿé¡µé¢&quot; var pat = &quot;search&quot; search(pat,res,title)//è°ƒç”¨æ•°æ®åº“æŸ¥è¯¢æ–¹æ³•&#125;)//ä¿®æ”¹å­¦ç”Ÿä¿¡æ¯é¡µé¢ updateapp.get(&quot;/update&quot;,function (req,res) &#123; var title = &quot;ä¿®æ”¹å­¦ç”Ÿä¿¡æ¯é¡µé¢&quot; var pat = &quot;update&quot; search(pat,res,title)//è°ƒç”¨æ•°æ®åº“æŸ¥è¯¢æ–¹æ³•&#125;)//æ³¨å†Œ registeapp.post(&quot;/admin/registe&quot;,function (req,res) &#123; var username = req.body.username; var password = req.body.password; console.log(&quot;username:&quot;+username+&quot;password:&quot;+password) var insertSQL = &apos;insert into admin values(0,?,?)&apos;; var insertSQL_params = [username, password]; var selectSQL = &apos;select * from admin &apos;; conn.query(selectSQL, function (err2, rows) &#123; //var arrusername = new Array(); if (err2)&#123; console.log(err2); &#125;else&#123; console.log(rows.length) if(rows.length == 0)&#123; conn.query(insertSQL,insertSQL_params, function (err2, rows) &#123; if (err2)&#123; console.log(err2); &#125;else&#123; console.log(&quot;æˆåŠŸå½•å…¥æ•°æ®&quot;); &#125; &#125;) res.send(&#123;name:1&#125;) return true &#125;else&#123; for (var i = 0;i &lt; rows.length;i++) &#123; if(username == rows[i].username )&#123; res.send(&#123;name:0&#125;) return false //res.send(&quot;dd&quot;) &#125;else&#123; if(i &gt;= rows.length-1)&#123; conn.query(insertSQL,insertSQL_params, function (err2, rows) &#123; if (err2)&#123; console.log(err2); &#125;else&#123; console.log(&quot;æˆåŠŸå½•å…¥æ•°æ®&quot;); &#125; &#125;) res.send(&#123;name:1&#125;) return true &#125; &#125; &#125; &#125; &#125; &#125;) &#125;)//ç™»å½• loginapp.post(&quot;/admin/login&quot;,function (req,res) &#123; var username = req.body.username; var password = req.body.password; var selectSQL = &apos;select * from admin &apos;; conn.query(selectSQL, function (err2, rows) &#123; if (err2)&#123; console.log(err2); &#125;else&#123; for (var i = 0;i&lt; rows.length;i++) &#123; if(rows[i].username == username &amp;&amp; rows[i].password == password)&#123; res.send(&#123;msg:1&#125;) return true &#125;else&#123; if (i &gt;= rows.length-1) &#123; res.send(&#123;msg:0&#125;) return false &#125; &#125; &#125; &#125; &#125;) &#125;)//æ•°æ®åº“æŸ¥è¯¢æ–¹æ³•function search(pat,res,title)&#123; var selectSQL = &apos;select id,name,number,sex,age,img from student &apos;; conn.query(selectSQL, function (err2, rows) &#123; if (err2)&#123; console.log(err2); &#125;else&#123; var arr = new Array() for(var item in rows)&#123; arr.push(rows[item]) &#125; res.render(pat,&#123; title:title, values:arr &#125;) &#125; &#125;) &#125;//æ·»åŠ å­¦ç”Ÿé¡µé¢ insertapp.post(&quot;/login&quot;,function(req,res)&#123; var insertSQL = &apos;insert into student values(0,?,?,?,?,?)&apos;; var insertSQL_params = []; var form = new multiparty.Form();//å®žä¾‹ä¸€ä¸ªmultiparty form.uploadDir = __dirname+&quot;/bower_components/uploads/&quot;;//è®¾ç½®æ–‡ä»¶å‚¨å­˜è·¯å¾„ //å¼€å§‹è§£æžå‰å°ä¼ è¿‡æ¥çš„æ–‡ä»¶ form.parse(req, function(err, fields, files) &#123; for (var item in fields)&#123; insertSQL_params.push(fields[item][0]) console.log(fields[item][0]) &#125; var filesTmp = JSON.stringify(files); var pr = JSON.parse(filesTmp) console.log(pr.upfiles.length) if(err)&#123; console.log(&apos;parse error: &apos; + err); &#125; else &#123; for (var i = 0 ; i &lt; pr.upfiles.length ; i++) &#123; var inputFile = files.upfiles[i];//èŽ·å–ç¬¬ä¸€ä¸ªæ–‡ä»¶ var finalname = inputFile.originalFilename; insertSQL_params.push(finalname) var new_name =__dirname+&quot;/bower_components/uploads/&quot;+finalname;//èŽ·å–æ–‡ä»¶å console.log(new_name) var old_name = inputFile.path;//èŽ·å–æ–‡ä»¶è·¯å¾„ console.log(old_name) fs.renameSync(old_name,new_name); &#125; &#125; //æ·»åŠ æ•°æ®åˆ°æ•°æ®åº“ conn.query(insertSQL,insertSQL_params, function (err2, rows) &#123; if (err2)&#123; console.log(err2); &#125;else&#123; console.log(&quot;æˆåŠŸ&quot;) &#125; &#125;) res.render(&apos;insert&apos;,&#123; title:&quot;æ·»åŠ å­¦ç”Ÿé¡µé¢&quot; &#125;) &#125;)&#125;);app.post(&quot;/delete&quot;,function(req,res)&#123; var getid = req.body.id; var selectSQL = &apos;select id from student &apos;; conn.query(selectSQL, function (err2, rows) &#123; if (err2)&#123; console.log(err2); &#125;else&#123; for (var item in rows) &#123; if (getid == rows[item].id) &#123; var deleteSQL = &apos;delete from student where id = &apos;+getid+&quot;&quot;; conn.query(deleteSQL, function (err2, rows) &#123; if (err2)&#123; console.log(err2); &#125;else&#123; console.log(&quot;dyuityfdgdd&quot;) &#125; &#125;) &#125; &#125; &#125; &#125;) res.send(&quot;ddd&quot;)&#125;)app.post(&apos;/update&apos;,function(req,res)&#123; var form = new multiparty.Form();//å®žä¾‹ä¸€ä¸ªmultiparty form.uploadDir = __dirname+&quot;/bower_components/uploads/&quot;;//è®¾ç½®æ–‡ä»¶å‚¨å­˜è·¯å¾„ //å¼€å§‹è§£æžå‰å°ä¼ è¿‡æ¥çš„æ–‡ä»¶ form.parse(req, function(err, fields, files) &#123; console.log(fields) var filesTmp = JSON.stringify(files); var pr = JSON.parse(filesTmp) if(err)&#123; console.log(&apos;parse error: &apos; + err); &#125; else &#123; for (var i = 0 ; i &lt; pr.upfiles.length ; i++) &#123; console.log(files.upfiles[i]) var inputFile = files.upfiles[i];//èŽ·å–ç¬¬ä¸€ä¸ªæ–‡ä»¶ var finalname = inputFile.originalFilename; //æ–‡ä»¶å if(finalname == &apos;&apos;)&#123; var updataSQL01 = &apos;update student set name = ?,number = ?,sex = ?,age = ? where id = ?&apos;; var updataSQL_params01 = [] for(var item in fields)&#123; console.log(fields[item][0]) updataSQL_params01.push(fields[item][0]) &#125; conn.query(updataSQL01,updataSQL_params01, function (err2, rows) &#123; if (err2)&#123; console.log(err2); &#125;else&#123; console.log(&quot;æˆåŠŸ&quot;) return res.redirect(&quot;/update&quot;) ; &#125; &#125;) &#125;else&#123; var updataSQL02 = &apos;update student set name = ?,number = ?,sex = ?,age = ?,img = ? where id = ?&apos;; var updataSQL_params02 = [] for(var item in fields)&#123; updataSQL_params02.push(fields[item][0]) &#125; updataSQL_params02.splice(4,0,finalname) var new_name =__dirname+&quot;/bower_components/uploads/&quot;+finalname;//èŽ·å–æ–‡ä»¶è·¯å¾„ var old_name = inputFile.path;//èŽ·å–æ–‡ä»¶è·¯å¾„ fs.renameSync(old_name,new_name);//æ”¹å conn.query(updataSQL02,updataSQL_params02, function (err2, rows) &#123; if (err2)&#123; console.log(err2); &#125;else&#123; console.log(&quot;æˆåŠŸ&quot;) return res.redirect(&quot;/update&quot;) ; &#125; &#125;) &#125; &#125; &#125; &#125;)&#125;) ä¸‹é¢æ˜¯js registe.js 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667//registe.js$(function()&#123; $(&quot;.loginsubmit&quot;).click(function()&#123; var usernameval = $(&quot;.username&quot;).val() var passwordval = $(&quot;.password&quot;).val() if(usernameval == &quot;&quot; || passwordval == &quot;&quot;)&#123; alert(&quot;ç”¨æˆ·åæˆ–å¯†ç ä¸èƒ½ä¸ºç©º&quot;) &#125;else &#123; $.ajax(&#123; type: &quot;POST&quot;, url: &quot;/admin/login&quot;, timeout:3000, data: &#123;username:usernameval, password:passwordval&#125;, success: function(date)&#123; if (date.msg == 1) &#123; alert(&quot;ç™»å½•æˆåŠŸ,ç‚¹å‡»ç¡®å®šè·³è½¬&quot;); window.location.href = &quot;/insert&quot; &#125;else&#123; alert(&quot;ç™»å½•å¤±è´¥,ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&quot;) &#125; &#125;, error:function(date)&#123; alert(&quot;æäº¤å¤±è´¥&quot;) &#125; &#125;) &#125; &#125;); $(&apos;#click&apos;).click(function()&#123; $(&quot;#content&quot;).empty(); $(&quot;h1&quot;).text(&quot;æ¬¢è¿Žæ³¨å†Œå­¦ç”Ÿç®¡ç†ç³»ç»Ÿç®¡ç†å‘˜&quot;); $(&quot;#content&quot;).append( &quot;&lt;form class = &apos;loginForm&apos; &gt;&quot;+ &quot;&lt;input class = &apos;username&apos; type = &apos;text&apos; placeholder = &apos;ç”¨æˆ·å&apos; &gt;&quot;+ &quot;&lt;input class = &apos;password&apos; type = &apos;password&apos; placeholder = &apos;å¯†ç &apos;&gt;&quot;+ &quot;&lt;input class = &apos;registesubmit submit&apos; type = &apos;button&apos; value = &apos;æ³¨å†Œ&apos;&gt;&quot;+ &quot;&lt;h6 style = &apos;text-align:center&apos;&gt;æœ‰è´¦å·åŽ»&quot;+ &quot;&lt;a id = &apos;click&apos; href = &apos;/login&apos;&gt; ç™»å½•&lt;/a&gt;&quot;+ &quot;&lt;/h6&gt;&quot;+ &quot;&lt;/form&gt;&quot;); $(&quot;.registesubmit&quot;).click(function()&#123; var usernameval = $(&quot;.username&quot;).val() var passwordval = $(&quot;.password&quot;).val() if(usernameval == &quot;&quot; || passwordval == &quot;&quot;)&#123; alert(&quot;ç”¨æˆ·åæˆ–å¯†ç ä¸èƒ½ä¸ºç©º&quot;) &#125;else &#123; $.ajax(&#123; type: &quot;POST&quot;, timeout:3000, url: &quot;/admin/registe&quot;, data: &#123;username:usernameval, password:passwordval&#125;, success: function(dat)&#123; if (dat.name == 1 ) &#123; alert(&quot;æ³¨å†ŒæˆåŠŸ,ç‚¹å‡»ç¡®å®šè¿”å›žç™»å½•é¡µ&quot;+dat.name); window.location.href = &quot;/login&quot; &#125;else&#123; alert(&quot;æ³¨å†Œå¤±è´¥ï¼Œè¯¥ç”¨æˆ·å·²å­˜åœ¨&quot;) &#125; &#125;, error:function(dat)&#123; alert(&quot;æäº¤å¤±è´¥&quot;+dat.name) &#125; &#125;) &#125; &#125;) &#125;)&#125;) delete.js 1234567891011121314//delete.jsfunction del(obj)&#123; $.ajax(&#123; url:&quot;/delete&quot;, type:&quot;post&quot;, data:&#123;id:obj.id&#125;, success:function(dat)&#123; window.location.href = &quot;/delete&quot; &#125;, error:function(dat)&#123; alert(&quot;å¤±è´¥&quot;) &#125; &#125;)&#125; update.js 12345678910111213141516171819202122232425262728293031323334353637383940414243function remove_DOM(obj)&#123; var objid = obj.id//èŽ·å–id var img = $(&apos;#img&apos;+objid).attr(&quot;src&quot;) var name = $(&apos;#name&apos;+objid).text() var number = $(&apos;#number&apos;+objid).text() var sex = $(&apos;#sex&apos;+objid).text() var age = $(&apos;#age&apos;+objid).text() $(&apos;.con&apos;).empty() $(&apos;.con&apos;).append( &apos;&lt;form method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; action=&quot;/update&quot; class=&quot;loginForm&quot;&gt;&apos;+ &apos;&lt;div class=&quot;upload&quot;&gt;&apos;+ &apos;&lt;span&gt;å§“å:&lt;input type=&quot;text&quot; name = &quot;name&quot; placeholder=&quot;å§“å&quot; class=&quot;stuMsg stu_name&quot;&gt;&lt;/span&gt;&apos;+ &apos;&lt;/div&gt;&apos;+ &apos;&lt;div class=&quot;upload&quot;&gt;&apos;+ &apos;&lt;span&gt;å­¦å·:&lt;input type=&quot;text&quot; name = &quot;number&quot; placeholder=&quot;å­¦å·&quot; class=&quot;stuMsg stu_number&quot;&gt;&lt;/span&gt;&apos;+ &apos;&lt;/div&gt;&apos;+ &apos;&lt;div class=&quot;upload&quot;&gt;&apos;+ &apos;&lt;span&gt;æ€§åˆ«:&lt;input type=&quot;text&quot; name = &quot;sex&quot; placeholder=&quot;æ€§åˆ«&quot; class=&quot;stuMsg stu_sex&quot;&gt;&lt;/span&gt;&apos;+ &apos;&lt;/div&gt;&apos;+ &apos;&lt;div class=&quot;upload&quot;&gt;&apos;+ &apos;&lt;span&gt;å¹´é¾„:&lt;input type=&quot;text&quot; name = &quot;age&quot; placeholder=&quot;å¹´é¾„&quot; class=&quot;stuMsg stu_age&quot;&gt;&lt;/span&gt;&apos;+ &apos;&lt;/div&gt;&apos;+ &apos;&lt;div id=&quot;containimg&quot; class=&quot;upload&quot;&gt;&apos;+ &apos;&lt;span&gt;å¤´åƒ:&lt;input type=&quot;file&quot; name=&quot;upfiles&quot; multiple=&quot;mutiple&quot; class=&quot;stuMsg stu_img&quot;&gt;&lt;/span&gt;&apos;+ &apos;&lt;/div&gt;&apos;+ &apos;&lt;input type=&quot;text&quot; name=&quot;hiddenid&quot; class=&quot;stuMsg hiddenid&quot;&gt;&apos;+ &apos;&lt;div class=&quot;upload&quot;&gt;&apos;+ &apos;&lt;input type=&quot;submit&quot; value=&quot;å½•å…¥&quot; class=&quot;stuMsg addmsg&quot;&gt;&apos;+ &apos;&lt;/div&gt;&apos;+ &apos;&lt;/form&gt;&apos; ) $(&apos;.stu_name&apos;).val(name) $(&apos;.stu_number&apos;).val(number) $(&apos;.stu_sex&apos;).val(sex) $(&apos;.stu_age&apos;).val(age) $(&apos;.hiddenid&apos;).val(objid)&#125;]]></content>
      <categories>
        <category>æŠ€æœ¯æ ˆ</category>
      </categories>
  </entry>
</search>
